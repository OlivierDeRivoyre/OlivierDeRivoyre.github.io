{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/ability-condition/ability-condition.component.css","./src/app/ability-condition/ability-condition.component.html","./src/app/ability-condition/ability-condition.component.ts","./src/app/ability-icon/ability-icon.component.css","./src/app/ability-icon/ability-icon.component.html","./src/app/ability-icon/ability-icon.component.ts","./src/app/ability-usage/ability-usage.component.css","./src/app/ability-usage/ability-usage.component.html","./src/app/ability-usage/ability-usage.component.ts","./src/app/activity/activity.component.css","./src/app/activity/activity.component.html","./src/app/activity/activity.component.ts","./src/app/app.module.ts","./src/app/armory/armory.component.css","./src/app/armory/armory.component.html","./src/app/armory/armory.component.ts","./src/app/bank/bank.component.css","./src/app/bank/bank.component.html","./src/app/bank/bank.component.ts","./src/app/buff-icon/buff-icon.component.css","./src/app/buff-icon/buff-icon.component.html","./src/app/buff-icon/buff-icon.component.ts","./src/app/edit-group/edit-group.component.css","./src/app/edit-group/edit-group.component.html","./src/app/edit-group/edit-group.component.ts","./src/app/fighting-character/fighting-character.component.css","./src/app/fighting-character/fighting-character.component.html","./src/app/fighting-character/fighting-character.component.ts","./src/app/item/item.component.css","./src/app/item/item.component.html","./src/app/item/item.component.ts","./src/app/layout/app-routing.module.ts","./src/app/layout/app.component.css","./src/app/layout/app.component.html","./src/app/layout/app.component.ts","./src/app/layout/focus.ts","./src/app/log/log.component.css","./src/app/log/log.component.html","./src/app/log/log.component.ts","./src/app/mob/mob.component.css","./src/app/mob/mob.component.html","./src/app/mob/mob.component.ts","./src/app/nav-group/nav-group.component.css","./src/app/nav-group/nav-group.component.html","./src/app/nav-group/nav-group.component.ts","./src/app/player-icon/player-icon.component.css","./src/app/player-icon/player-icon.component.html","./src/app/player-icon/player-icon.component.ts","./src/app/progressbar/progressbar.component.css","./src/app/progressbar/progressbar.component.html","./src/app/progressbar/progressbar.component.ts","./src/app/quest-dashboard/quest-dashboard.component.css","./src/app/quest-dashboard/quest-dashboard.component.html","./src/app/quest-dashboard/quest-dashboard.component.ts","./src/app/recruitment/recruitment.component.css","./src/app/recruitment/recruitment.component.html","./src/app/recruitment/recruitment.component.ts","./src/app/start-menu/start-menu.component.css","./src/app/start-menu/start-menu.component.html","./src/app/start-menu/start-menu.component.ts","./src/app/tooltip-icon/tooltip-icon.component.css","./src/app/tooltip-icon/tooltip-icon.component.html","./src/app/tooltip-icon/tooltip-icon.component.ts","./src/app/world/ability/ability.ts","./src/app/world/ability/abilityCondition.ts","./src/app/world/ability/abilitySelector.ts","./src/app/world/ability/casting.ts","./src/app/world/ability/castingHeal.ts","./src/app/world/ability/drinkPotion.ts","./src/app/world/ability/highBlow.ts","./src/app/world/ability/instantBuff.ts","./src/app/world/ability/shieldBuff.ts","./src/app/world/ability/swing.ts","./src/app/world/activity/activity.ts","./src/app/world/activity/activityProgress.ts","./src/app/world/activity/killQuest.ts","./src/app/world/activity/learnActivity.ts","./src/app/world/activity/quest.ts","./src/app/world/activity/recruitActivity.ts","./src/app/world/activity/travelActivity.ts","./src/app/world/buff/buff.ts","./src/app/world/buff/buffList.ts","./src/app/world/character/candidate.ts","./src/app/world/character/character.ts","./src/app/world/character/group.ts","./src/app/world/character/mob.ts","./src/app/world/character/player.ts","./src/app/world/characterStat/attributePipe.ts","./src/app/world/characterStat/characterStat.ts","./src/app/world/index.ts","./src/app/world/item/attributeDescription.ts","./src/app/world/item/bag.ts","./src/app/world/item/equipableItem.ts","./src/app/world/item/food.ts","./src/app/world/item/item.ts","./src/app/world/item/potion.ts","./src/app/world/item/stackItem.ts","./src/app/world/store/abilityStore.ts","./src/app/world/store/equipableStore.ts","./src/app/world/store/foodStore.ts","./src/app/world/store/levelStore.ts","./src/app/world/store/mobStore.ts","./src/app/world/store/playerStore.ts","./src/app/world/store/potionStore.ts","./src/app/world/task/fight.ts","./src/app/world/task/killQuestTask.ts","./src/app/world/task/lunchTask.ts","./src/app/world/task/taskProgress.ts","./src/app/world/task/thread.ts","./src/app/world/tools/logger.ts","./src/app/world/tools/progress.ts","./src/app/world/tools/store.ts","./src/app/world/tools/testTools.ts","./src/app/world/tools/tools.ts","./src/app/world/world.ts","./src/app/world/zone/level1.ts","./src/app/world/zone/level2.ts","./src/app/world/zone/level3.ts","./src/app/world/zone/level4.ts","./src/app/world/zone/levelTools.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-condition/ability-condition.component.css\n// module id = ./src/app/ability-condition/ability-condition.component.css\n// module chunks = main","module.exports = \"\\n<app-ability-icon [ability]=\\\"abilityCondition.ability\\\"></app-ability-icon>\\n\\n<select name=\\\"ability\\\" [(ngModel)]=\\\"selectedAbility\\\">\\n\\t<option *ngFor=\\\"let ability of abilities\\\" [ngValue]=\\\"ability\\\">{{ability.name}}</option>\\n</select>\\n\\n<select name=\\\"type\\\" [(ngModel)]=\\\"abilityType\\\">\\n\\t\\t<option *ngFor=\\\"let t of conditionTypes\\\" [ngValue]=\\\"t\\\">{{t}}</option>\\n</select>\\n\\n<span *ngIf=\\\"abilityType === 'lifeIsLess' || abilityType === 'lifeIsMore'\\\">\\n\\tUse {{abilityCondition.ability.name}} if life of  \\n\\t<select name=\\\"target\\\" [(ngModel)]=\\\"abilityCondition.values[0]\\\">\\n\\t\\t\\t<option *ngFor=\\\"let t of ['myself', 'tank', 'friend', 'mob']\\\" [ngValue]=\\\"t\\\">{{t}}</option>\\n\\t</select>\\n\\tis \\n\\t<span *ngIf=\\\"abilityType === 'lifeIsLess'\\\">less</span>\\n\\t<span *ngIf=\\\"abilityType === 'lifeIsMore'\\\">more</span>\\n\\tthan:\\n\\t<input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" \\n\\t\\t[(ngModel)]=\\\"abilityCondition.values[1]\\\">\\n\\t\\t{{abilityCondition.values[1]}}% \\n</span>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-condition/ability-condition.component.html\n// module id = ./src/app/ability-condition/ability-condition.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Player, AbilityCondition, Ability } from '../world/';\n\n@Component({\n\tselector: 'app-ability-condition',\n\ttemplateUrl: './ability-condition.component.html',\n\tstyleUrls: ['./ability-condition.component.css']\n})\nexport class AbilityConditionComponent implements OnInit {\n\n\t@Input() player: Player;\n\t@Input() abilityCondition: AbilityCondition;\n\tabilities: Ability[];\t\n\tconditionTypes = AbilityCondition.allTypes;\n\n\tget selectedAbility(){\n\t\treturn this.abilityCondition.ability;\n\t}\n\tset selectedAbility(value){\n\t\tthis.abilityCondition.ability = value;\n\t\tthis.player.dispatchAbilities();\n\t}\n\tget abilityType() {\n\t\treturn this.abilityCondition.type;\n\t}\n\tset abilityType(value) {\n\t\tthis.abilityCondition.type = value;\n\t\tif (value === 'lifeIsLess') {\n\t\t\tif (!this.abilityCondition.values[0]) {\n\t\t\t\tthis.abilityCondition.values[0] = 'myself';\n\t\t\t\tthis.abilityCondition.values[1] = 50;\n\t\t\t}\n\t\t}\n\t\telse if (value === 'lifeIsMore') {\n\t\t\tif (!this.abilityCondition.values[0]) {\n\t\t\t\tthis.abilityCondition.values[0] = 'mob';\n\t\t\t\tthis.abilityCondition.values[1] = 50;\n\t\t\t}\n\t\t}\n\t\tthis.player.dispatchAbilities();\n\t}\n\n\tconstructor() { }\n\n\tngOnInit() { }\n\n\tngOnChanges() {\n\t\tthis.abilities = this.player.abilities;\n\n\t}\n\n\tngDoCheck() {\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ability-condition/ability-condition.component.ts","module.exports = \".description{\\r\\n\\tcolor:yellow;\\r\\n}\\r\\n.requirementNotOk{\\r\\n\\tcolor:red;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-icon/ability-icon.component.css\n// module id = ./src/app/ability-icon/ability-icon.component.css\n// module chunks = main","module.exports = \"<app-tooltip-icon [icon]=\\\"ability.icon\\\">\\n\\t<span>{{ability.name}}</span>\\n\\t<span *ngIf=\\\"castingDuration$|async\\\">\\n\\t\\t<br/>Mana: {{castingDuration$|async}}</span>\\n\\t<span *ngIf=\\\"castingDuration$|async\\\">\\n\\t\\t<br/>{{(castingDuration$|async)/10}} sec cast</span>\\n\\t<span *ngIf=\\\"cooldown$|async\\\">\\n\\t\\t<br/>cooldown: {{(cooldown$|async)/10}} sec</span>\\n\\t<span *ngFor=\\\"let requirement of (requirements$ | async)\\\" [ngClass]=\\\"{requirementOk:requirement.ok,requirementNotOk:!requirement.ok}\\\">\\n\\t\\t<br/>{{requirement.description}}</span>\\n\\t<br/> \\n\\t<span class=\\\"description\\\">{{ability.description}}</span>\\n\\t<br/>\\n</app-tooltip-icon>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-icon/ability-icon.component.html\n// module id = ./src/app/ability-icon/ability-icon.component.html\n// module chunks = main","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Ability, Tools, CastingHeal } from '../world/';\nimport { Observable } from 'rxjs/Observable';\n\n@Component({\n\tselector: 'app-ability-icon',\n\ttemplateUrl: './ability-icon.component.html',\n\tstyleUrls: ['./ability-icon.component.css'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AbilityIconComponent implements OnInit {\n\n\t@Input() ability: Ability;\n\n\trequirements$ : Observable<any[]>;\n\tmanaCost$ : Observable<number>;\n\tcastingDuration$ : Observable<number>;\n\tcooldown$ :  Observable<number>;\n\t\n\tconstructor() { }\n\n\tngOnInit() { \n\t\tthis.requirements$ = this.ability.$.map(a => a.requirements);\n\t\tthis.cooldown$= this.ability.$.map(a =>  a.cooldown);\n\t\tthis.manaCost$ = this.ability.$.map(a => a.manaCost);\n\t\tthis.castingDuration$ = this.ability.$.map(a => a.castingDuration);\t\t\t\t\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ability-icon/ability-icon.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-usage/ability-usage.component.css\n// module id = ./src/app/ability-usage/ability-usage.component.css\n// module chunks = main","module.exports = \"<p>\\n\\tBefore fighting, eat if hero's life is less than:\\n\\t<input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" [(ngModel)]=\\\"player.abilitySelector.eatIfLifePercentUnder\\\"> {{player.abilitySelector.eatIfLifePercentUnder}}%\\n</p>\\n\\n<p>\\n\\tDuring fight, use the following abilities:\\n</p>\\n\\n<div *ngFor=\\\"let abilityCondition of player.abilitySelector.abilityConditions\\\">\\n\\t<button (click)=\\\"remove(abilityCondition)\\\">delete</button>\\n\\t<app-ability-condition [player]=\\\"player\\\" [abilityCondition]=\\\"abilityCondition\\\">\\n\\t</app-ability-condition>\\n</div>\\n<button (click)=\\\"add()\\\">add</button>\\n<br/>\\n<br/>\\n<button (click)=\\\"focus.selectTab('game')\\\">Return to game</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/ability-usage/ability-usage.component.html\n// module id = ./src/app/ability-usage/ability-usage.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Player, AbilityCondition } from '../world/';\nimport { Focus } from '../layout/focus';\n\n@Component({\n  selector: 'app-ability-usage',\n  templateUrl: './ability-usage.component.html',\n  styleUrls: ['./ability-usage.component.css']\n})\nexport class AbilityUsageComponent implements OnInit {\n\n\t@Input() focus: Focus;\n\t@Input() player: Player;\n  constructor() { }\n\n\tngOnInit(){}\n\n  ngOnChanges() {\t\n\t}\n\t\n\tremove(abilityCondition){\n\t\tconst index = this.player.abilitySelector.abilityConditions.indexOf(abilityCondition);\n\t\tif(index >= 0){\n\t\t\tthis.player.abilitySelector.abilityConditions.splice(index, 1);\n\t\t\tthis.player.dispatchAbilities();\n\t\t}\n\t}\n\tadd(){\n\t\tconst cond = new AbilityCondition();\n\t\tcond.ability = this.player.abilities[0];\n\t\tthis.player.abilitySelector.abilityConditions.push(cond);\n\t\tthis.player.dispatchAbilities();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ability-usage/ability-usage.component.ts","module.exports = \"td {\\t\\r\\n\\tvertical-align: top;\\r\\n}\\r\\n\\r\\ntable{\\r\\n\\twidth: 100%;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/activity/activity.component.css\n// module id = ./src/app/activity/activity.component.css\n// module chunks = main","module.exports = \"<p>\\n\\t{{activity.name}}\\n</p>\\n\\n\\n<ul class=\\\"\\\">\\n\\t<li *ngFor=\\\"let task of activity.thread.allTasks\\\">\\n\\t\\t{{task.name}} &nbsp;&nbsp;&nbsp; {{task.progress}}\\n\\t\\t<app-fighting-character *ngIf=\\\"task.mob\\\" [character]=\\\"task.mob\\\" [world]=\\\"focus.world\\\"></app-fighting-character>\\n\\t</li>\\n</ul>\\n\\n<div *ngIf=\\\"activity.done\\\">\\n\\n\\t<div *ngIf=\\\"activity.success\\\">\\n\\t\\tSuccess\\n\\t\\t<div *ngIf=\\\"activity.activity.ability\\\">\\n\\t\\t\\tTo configure the learned ability:\\n\\t\\t\\t<button (click)=\\\"selectTab('abilities')\\\">Abilities usage</button>\\n\\t\\t</div>\\n\\t\\t<div *ngIf=\\\" activity.group.foundItems.length != 0\\\">\\n\\t\\t\\t<br/> Reward:\\n\\t\\t\\t<br/>\\n\\t\\t\\t<div class=\\\"item-container\\\">\\n\\t\\t\\t\\t<app-item *ngFor=\\\"let item of activity.group.foundItems\\\" [item]=\\\"item\\\"></app-item>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div *ngIf=\\\"!activity.success\\\">\\n\\t\\t<br/> Failure\\n\\t\\t<br/>\\n\\t</div>\\n\\n\\t<br/>\\n\\t<button *ngIf=\\\"hasEquipableReward()\\\" (click)=\\\"selectTab('armory')\\\">Armory</button>\\n\\t<button (click)=\\\"done()\\\">Ok</button>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/activity/activity.component.html\n// module id = ./src/app/activity/activity.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Focus } from '../layout/focus';\nimport {\n\tActivityProgress, Player, Mob, Fight,\n\tEquipableItem\n} from '../world/';\n\n\n\n@Component({\n\tselector: 'app-activity',\n\ttemplateUrl: './activity.component.html',\n\tstyleUrls: ['./activity.component.css']\n})\nexport class ActivityComponent implements OnInit {\n\n\t@Input() focus: Focus;\n\t@Input() player: Player;\n\tactivity: ActivityProgress;\n\tmob: Mob;\n\t\n\n\n\tconstructor() { }\n\n\tngOnInit() { }\n\n\tngOnChanges() {\n\t\tthis.activity = this.focus.activityProgress;\t\t\n\t\tconsole.log(\"ngChanges\");\n\t}\n\n\tgetMob() {\n\t\tconst fight = <Fight>this.activity.thread.allTasks[this.activity.thread.allTasks.length - 1];\n\t\tthis.mob = fight ? fight.mob : null;\n\t\treturn this.mob;\n\t}\n\n\tdone() {\n\t\tthis.focus.refresh();\n\t}\n\n\tselectTab(tabName: string) {\t\t\n\t\tthis.focus.selectTab(tabName);\n\t\tthis.focus.refresh();\n\t}\n\n\thasEquipableReward() : boolean{\n\t\treturn this.activity.group.foundItems.some(item => (<EquipableItem>item).isEquipable);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/activity/activity.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './layout/app.component';\nimport { LogComponent } from './log/log.component';\nimport { AppRoutingModule } from './layout/app-routing.module';\nimport { StartMenuComponent } from './start-menu/start-menu.component';\nimport { RecruitmentComponent } from './recruitment/recruitment.component';\nimport { QuestDashboardComponent } from './quest-dashboard/quest-dashboard.component';\nimport { NavGroupComponent } from './nav-group/nav-group.component';\nimport { ActivityComponent } from './activity/activity.component';\nimport { AbilityUsageComponent } from './ability-usage/ability-usage.component';\nimport { AbilityConditionComponent } from './ability-condition/ability-condition.component';\nimport { ArmoryComponent } from './armory/armory.component';\nimport { BankComponent } from './bank/bank.component';\nimport { ItemComponent } from './item/item.component';\nimport { MobComponent } from './mob/mob.component';\nimport { FightingCharacterComponent } from './fighting-character/fighting-character.component';\nimport { ProgressbarComponent } from './progressbar/progressbar.component';\nimport { TooltipIconComponent } from './tooltip-icon/tooltip-icon.component';\nimport { PlayerIconComponent } from './player-icon/player-icon.component';\nimport { AbilityIconComponent } from './ability-icon/ability-icon.component';\nimport { BuffIconComponent } from './buff-icon/buff-icon.component';\nimport { EditGroupComponent } from './edit-group/edit-group.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,    \n    LogComponent,\n    StartMenuComponent,\n    RecruitmentComponent,\n    QuestDashboardComponent,\n    NavGroupComponent,\n    ActivityComponent,\n    AbilityUsageComponent,\n    AbilityConditionComponent,\n    ArmoryComponent,\n    BankComponent,\n    ItemComponent,\n    MobComponent,\n    FightingCharacterComponent,\n    ProgressbarComponent,\n    TooltipIconComponent,\n    PlayerIconComponent,\n    AbilityIconComponent,\n    BuffIconComponent,\n    EditGroupComponent\n  ],\n  imports: [ \n    BrowserModule,\n    FormsModule,\n    AppRoutingModule\n  ], \n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/armory/armory.component.css\n// module id = ./src/app/armory/armory.component.css\n// module chunks = main","module.exports = \"<p>\\n\\t{{player.name}} :\\n</p>\\n<div class=\\\"flex-container\\\">\\n\\t<app-item *ngFor=\\\"let item of (player.$|async).equipedItems\\\" (click)=\\\"unequip(item)\\\" [item]=\\\"item\\\" [player]=\\\"player\\\" [clickable]=\\\"true\\\"></app-item>\\n</div>\\n\\n<p>\\n\\tLife: {{currentLife$|async}} / {{(player.$|async).maxLife}}\\n\\t<br/> Stamina: {{stamina$|async}}\\n\\t<br/> Strength: {{strength$|async}}\\n\\t<br/> Agility: {{agility$|async}}\\n\\t<span *ngIf=\\\"player.useMana\\\">\\t\\t\\n\\t\\t<br/> Wisdom: {{wisdom$|async}} \\n\\t\\t<br/>Mana:{{currentMana$ | async}}/{{(player.$|async).maxMana}}\\n\\t\\t<br/> Spirit: {{spirit$|async}} \\n\\t\\t<br/> Regen: {{(player.$|async).regenManaPerSecond}} mana/sec\\n\\t\\t<br/> Intellect: {{intellect$|async}} spell power and spell cost\\n\\t\\t\\n\\t</span>\\n\\n\\n\\t<br/> Weapon damage: {{(player.$|async).weaponDamage}}, Cool down: {{(player.$|async).weaponCooldown / 10}} sec\\n\\t<br/> Attack power: {{attackPower$|async}}\\n\\t<br/> Swing DPS: {{dps$|async}}\\n\\t<br/> Armor: {{armor$|async}} (a 100 physical hit deal {{armorRecution$|async}} damage)\\n</p>\\n--\\n<p>\\n\\tBank (click to equip):\\n</p>\\n\\n<div class=\\\"flex-container\\\">\\n\\t<app-item *ngFor=\\\"let item of (bankItems$|async)\\\" (click)=\\\"equip(item)\\\" [item]=\\\"item\\\" [player]=\\\"player\\\" [clickable]=\\\"true\\\"></app-item>\\n</div>\\n<br/>\\n<button (click)=\\\"focus.selectTab('game')\\\">Return to game</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/armory/armory.component.html\n// module id = ./src/app/armory/armory.component.html\n// module chunks = main","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Tools, Bag, Player, Item } from '../world/';\nimport { Focus } from '../layout/focus';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map'\n\n@Component({\n\tselector: 'app-armory',\n\ttemplateUrl: './armory.component.html',\n\tstyleUrls: ['./armory.component.css'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ArmoryComponent implements OnInit {\n\n\t@Input() focus: Focus;\n\t@Input() player: Player;\n\tbag: Bag;\n\n\tbankItems() {\n\t\treturn this.bag.getEquipables();\n\t}\n\tcurrentLife$: Observable<number>;\n\tcurrentMana$: Observable<number>;\n\tstamina$: Observable<number>;\n\tstrength$: Observable<number>;\n\tagility$: Observable<number>;\n\tspirit$: Observable<number>;\n\tintellect$: Observable<number>;\n\twisdom$: Observable<number>;\n\tattackPower$: Observable<number>;\n\tdps$: Observable<number>;\n\tarmor$: Observable<number>;\n\tarmorRecution$: Observable<number>;\n\n\tbankItems$ : Observable<Item[]>;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.bag = this.focus.world.bag;\t\t\n\t\tthis.currentLife$ = this.player.$.map(p => Math.floor(p.currentLife));\n\t\tthis.currentMana$ = this.player.$.map(p => Math.floor(p.currentMana));\n\t\tthis.stamina$ = this.player.$.map(p => p.characterStat.stamina.defaultValue);\n\t\tthis.strength$ = this.player.$.map(p => p.characterStat.strength.defaultValue);\n\t\tthis.agility$ = this.player.$.map(p => p.characterStat.agility.defaultValue);\n\t\tthis.spirit$ = this.player.$.map(p => p.characterStat.spirit.defaultValue);\n\t\tthis.intellect$ = this.player.$.map(p => p.characterStat.intellect.defaultValue);\n\t\tthis.wisdom$ = this.player.$.map(p => p.characterStat.wisdom.defaultValue);\n\t\tthis.attackPower$ = this.player.$.map(p => p.characterStat.getAttackPower(null, null, null));\n\t\tthis.dps$ = this.player.$.map(p => p.getWeaponDps());\n\t\tthis.armor$ = this.player.$.map(p => p.characterStat.armor.defaultValue);\n\t\tthis.armorRecution$ = this.player.$.map(p => p.characterStat.armorReduceDamage(100, null, null, null));\n\t\tthis.bankItems$ = this.bag.$.map(b => b.getEquipables());\n\t}\n\n\tngOnChanges() {\n\t\t\n\t\n\t}\n\n\n\n\n\tequip(item) {\n\t\tthis.bag.equip(this.player, item);\n\t}\n\n\tunequip(item) {\n\t\tthis.bag.unequip(this.player, item);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/armory/armory.component.ts","module.exports = \"\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/bank/bank.component.css\n// module id = ./src/app/bank/bank.component.css\n// module chunks = main","module.exports = \"<p>\\n\\tBank:\\n</p>\\n<div class=\\\"item-container\\\">\\n\\t<app-item *ngFor=\\\"let stack of (stacks$|async)\\\" \\n\\t[item]=\\\"stack.item\\\" [quantity]=\\\"stack.quantity\\\"></app-item>\\n</div>\\n<br/>\\n<button (click)=\\\"focus.selectTab('game')\\\">Return to game</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/bank/bank.component.html\n// module id = ./src/app/bank/bank.component.html\n// module chunks = main","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Tools, Bag, Player, Item, StackItem } from '../world/';\nimport { Focus } from '../layout/focus';\nimport { Observable } from 'rxjs/Observable';\n\n@Component({\n  selector: 'app-bank',\n  templateUrl: './bank.component.html',\n\tstyleUrls: ['./bank.component.css'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BankComponent implements OnInit {\n\t@Input() focus: Focus;\n\t\n\tbag: Bag;\n\tstacks$: Observable<StackItem[]>;\n\n\tconstructor() { }\n\t\n  ngOnInit() {\n\t\tthis.bag = this.focus.world.bag;\n\t\tthis.stacks$ = this.bag.$.map(b => b.stacks);\n\t}\n\t\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/bank/bank.component.ts","module.exports = \".container{\\r\\n\\tfont-size: 0.4em;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/buff-icon/buff-icon.component.css\n// module id = ./src/app/buff-icon/buff-icon.component.css\n// module chunks = main","module.exports = \"<app-tooltip-icon [icon]=\\\"buff.buffType.icon\\\" class=\\\"container\\\">\\n\\t\\t<span>{{buff.buffType.name}}</span><br/>\\t\\n\\t\\t<span>{{buff.description}}</span><br/>\\t\\n</app-tooltip-icon>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/buff-icon/buff-icon.component.html\n// module id = ./src/app/buff-icon/buff-icon.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Buff, Tools } from '../world/';\n@Component({\n  selector: 'app-buff-icon',\n  templateUrl: './buff-icon.component.html',\n  styleUrls: ['./buff-icon.component.css']\n})\nexport class BuffIconComponent implements OnInit {\n\n\t@Input() buff: Buff;\n\n  constructor() { }\n  ngOnInit() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/buff-icon/buff-icon.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/edit-group/edit-group.component.css\n// module id = ./src/app/edit-group/edit-group.component.css\n// module chunks = main","module.exports = \"<p>\\n\\tGroup:\\n</p>\\n<p *ngFor=\\\"let p of group.players\\\">\\n\\t<app-player-icon [player]=\\\"p\\\"></app-player-icon>\\n\\t<span *ngIf=\\\"group.players.length >= 2\\\">\\n\\t\\t<button (click)=\\\"excludePlayer(p)\\\">Ungroup</button>\\n\\t\\t<button *ngIf=\\\"group.players.indexOf(p) != 0\\\" (click)=\\\"promotePlayer(p)\\\">promote</button>\\n\\t</span>\\n</p>\\n\\n\\n<P>\\n\\tAvailable:\\n</P>\\n<p *ngFor=\\\"let p of availablePlayers\\\">\\n\\t<app-player-icon [player]=\\\"p\\\"></app-player-icon>\\n\\t<button (click)=\\\"inludePlayer(p)\\\">group</button>\\n</p>\\n\\n<br/>\\n<button (click)=\\\"focus.selectTab('game')\\\">Return to game</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/edit-group/edit-group.component.html\n// module id = ./src/app/edit-group/edit-group.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { Tools, World, Group, Player } from '../world/';\nimport { Focus } from '../layout/focus';\n\n@Component({\n\tselector: 'app-edit-group',\n\ttemplateUrl: './edit-group.component.html',\n\tstyleUrls: ['./edit-group.component.css']\n})\nexport class EditGroupComponent implements OnInit {\n\t@Input() focus: Focus;\n\t@Input() group: Group;\n\tavailablePlayers: Player[];\n\n\tconstructor() { }\n\n\tngOnInit() { }\n\n\tngOnChanges() {\n\t\tthis.refresh();\n\t}\n\n\trefresh() {\n\t\tthis.availablePlayers = this.group.world.players.filter(\n\t\t\tp => this.group.players.indexOf(p) === -1);\n\t}\n\n\tinludePlayer(player: Player) {\n\t\tthis.group.includePlayer(player);\n\t\tthis.refresh();\n\t}\n\n\texcludePlayer(player: Player) {\n\t\tthis.group.excludePlayer(player);\n\t\tthis.refresh();\n\t\tif (player === this.focus.selectedPlayer) {\n\t\t\tthis.focus.selectGroup(player, player.group);\n\t\t}\n\t}\n\n\tpromotePlayer(player: Player) {\n\t\tthis.group.promotePlayer(player);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/edit-group/edit-group.component.ts","module.exports = \".component{\\r\\n\\tpadding: 0.3em;\\t\\r\\n\\twidth:12em;\\r\\n}\\r\\n\\r\\n.header {\\r\\n\\tposition:relative;\\r\\n\\theight: 3.2em;\\r\\n}\\r\\n\\r\\n.portrait {\\t\\t\\t\\r\\n\\tposition:absolute;\\r\\n}\\r\\n\\r\\n.life{\\r\\n\\tposition:absolute;\\t\\r\\n\\tmargin: 0.1em;\\t\\t\\r\\n\\tleft: 3.5em;\\r\\n\\twidth: 8em;\\r\\n}\\r\\n\\r\\n.mana{\\r\\n\\tposition:absolute;\\t\\r\\n\\tfont-size: 0.5em;\\t\\r\\n\\tmargin: 0.2em;\\t\\t\\r\\n\\ttop: 2.5em;\\r\\n\\tleft: 7em;\\r\\n\\twidth: 16em;\\r\\n}\\r\\n\\r\\n.buffbar{\\r\\n\\tposition:absolute;\\t\\r\\n\\tmargin: 0.1em;\\t\\t\\r\\n\\tleft: 3.8em;\\r\\n\\ttop: 1.3em;\\r\\n\\twidth: 8em;\\r\\n}\\r\\n\\r\\n.debuff{\\r\\n\\tposition:absolute;\\t\\r\\n\\ttop:0em;\\r\\n\\tright:0em;\\r\\n}\\r\\n\\r\\n.ability{\\t\\r\\n\\tposition:relative;\\r\\n\\theight: 2em;\\t\\r\\n\\r\\n}\\r\\n\\r\\n.abilityIcon{\\t\\t\\t\\r\\n\\tfont-size: 0.6em;\\t\\r\\n\\tposition:absolute;\\t\\r\\n}\\r\\n\\r\\n.abilityState{\\r\\n\\tposition:absolute;\\r\\n\\ttop : 0em;\\t\\r\\n\\tleft: 3em;\\r\\n\\tright: 0em;\\r\\n\\tfont-size: 0.8em;\\t\\t\\t\\r\\n}\\r\\n\\r\\n.abilityProgress{\\t\\r\\n\\tposition:absolute;\\r\\n\\ttop : 0em;\\t\\r\\n\\twidth: 4em;\\t\\r\\n}\\r\\n\\r\\n.abilityDesc{\\t\\r\\n\\tposition:absolute;\\r\\n\\ttop : 1.1em;\\t\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/fighting-character/fighting-character.component.css\n// module id = ./src/app/fighting-character/fighting-character.component.css\n// module chunks = main","module.exports = \"<div class=\\\"component\\\">\\n\\t<div class=\\\"header\\\">\\n\\t\\t<div class=\\\"portrait\\\">\\n\\t\\t\\t<app-player-icon *ngIf=\\\"character.isPlayer\\\" [player]=\\\"character\\\"></app-player-icon>\\n\\t\\t\\t<app-mob *ngIf=\\\"character.isMob\\\" [mob]=\\\"character\\\"></app-mob>\\n\\t\\t</div>\\n\\t\\t<app-progressbar value=\\\"{{character.currentLife}}\\\" max=\\\"{{character.maxLife}}\\\" class=\\\"life\\\" color=\\\"red\\\"></app-progressbar>\\n\\t\\t<app-progressbar *ngIf=\\\"character.useMana\\\" value=\\\"{{character.currentMana}}\\\" max=\\\"{{character.maxMana}}\\\" class=\\\"mana\\\" color=\\\"blue\\\"></app-progressbar>\\n\\t\\t<div class=\\\"buffbar\\\">\\n\\t\\t\\t<div class=\\\"buff\\\">\\n\\t\\t\\t\\t<app-buff-icon *ngFor=\\\"let appliedBuff of character.buffs.appliedBuffs\\\" [buff]=\\\"appliedBuff.buff\\\"></app-buff-icon>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"debuff\\\">\\n\\t\\t\\t\\t<app-buff-icon *ngFor=\\\"let appliedBuff of character.debuffs.appliedBuffs\\\" [buff]=\\\"appliedBuff.buff\\\"></app-buff-icon>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"abilitiesContainer\\\">\\n\\t\\t<div *ngFor=\\\"let ability of (abilities$|async)\\\" class=\\\"ability\\\">\\n\\t\\t\\t<div class=\\\"abilityIcon\\\">\\n\\t\\t\\t\\t<app-ability-icon [ability]=\\\"ability.ability\\\"></app-ability-icon>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"abilityState\\\">\\n\\t\\t\\t\\t<app-progressbar *ngIf=\\\"ability.casting\\\" [value]=\\\"ability.castingPercent$|async\\\" max=\\\"100\\\" class=\\\"abilityProgress\\\" color=\\\"#6B6\\\"\\n\\t\\t\\t\\t [showText]=\\\"false\\\"></app-progressbar>\\n\\t\\t\\t\\t<app-progressbar *ngIf=\\\"!ability.casting\\\" [value]=\\\"ability.cooldownPercent$|async\\\" max=\\\"100\\\" class=\\\"abilityProgress\\\" color=\\\"#669\\\"\\n\\t\\t\\t\\t [showText]=\\\"false\\\"></app-progressbar>\\n\\t\\t\\t\\t<div class=\\\"abilityDesc\\\"> {{ability.lastActionDesc}}</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/fighting-character/fighting-character.component.html\n// module id = ./src/app/fighting-character/fighting-character.component.html\n// module chunks = main","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Character, Tools, World } from '../world/';\nimport { Focus } from '../layout/focus';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map'\nimport 'rxjs/add/operator/distinctUntilChanged'\n\n@Component({\n\tselector: 'app-fighting-character',\n\ttemplateUrl: './fighting-character.component.html',\n\tstyleUrls: ['./fighting-character.component.css'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FightingCharacterComponent implements OnInit {\n\n\t@Input() character: Character;\n\t@Input() world: World;\n\t//@Input() tick: number;\n\t@Input() showAbilities: boolean = true;\n\n\tabilities$: Observable<any[]>;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.abilities$ = this.character.abilities$.map(c => this.getAbilities(c));\n\t}\n\tngOnChanges(){\n\t\tthis.character.dispatchAbilities();//Force the refresh of 'showAbilities'\n\t}\n\n\tgetAbilities(character: Character): any[] {\n\t\tif (!this.showAbilities || character.isDead) {\n\t\t\treturn [];\n\t\t}\n\t\tconst clone = character.getActiveAbilities().map(a => <any>{\n\t\t\tability: a,\n\t\t\ticon: a.icon,\n\t\t\tcasting: a.casting,\n\t\t\tcastingPercent$: this.world.tick$.map(tick => a.casting != null ? a.casting.percent : 0).distinctUntilChanged(),\n\t\t\tcooldownPercent$: this.world.tick$.map(tick => character.getCooldownPercent(a, tick)).distinctUntilChanged(),\n\t\t\tlastActionDesc: a.lastActionDesc\n\t\t});\n\t\tfor (let a of clone) {\n\t\t\tif (character.isDead) {\n\t\t\t\ta.lastActionDesc = a.ability.name;\n\t\t\t}\n\t\t\telse if (!a.casting) {\n\t\t\t\tif (a.ability.lastActionTick <= 0 || a.ability.lastActionTick + 20 < this.world.tick) {\n\t\t\t\t\ta.lastActionDesc = a.ability.name;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn clone;\n\t\t//Tools.arrayAssign(this.abilities, clone);//Avoid blinking\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/fighting-character/fighting-character.component.ts","module.exports = \".tooltip {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: inline-block;\\t\\r\\n}\\r\\n.clickable{\\r\\n\\tcursor:pointer;\\r\\n}\\r\\n.icon {\\r\\n\\tcursor: default;\\r\\n\\tfont-size: 32px;\\r\\n\\tbackground-color: rgb(240, 240, 240);\\r\\n  /*width: 32px;*/\\r\\n  margin: 4px;\\r\\n  text-align: center;\\r\\n  font-family: \\\"Noto Color Emoji\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", Times, Symbola, Aegyptus, Code2000, Code2001, Code2002, Musica, serif, LastResort;\\r\\n}\\r\\n.clickable .icon{\\r\\n\\tcursor:pointer;\\r\\n}\\r\\n.clickable .icon:hover {\\r\\n\\t\\tbackground-color: #DDD;\\r\\n\\t\\tmargin-left: 5px;\\r\\n\\t\\tmargin-right: 3px;\\r\\n}\\r\\n.quantity{\\r\\n\\tposition: absolute;\\r\\n\\ttext-align: right;\\r\\n\\tpadding-right: 0.6em;\\r\\n\\tz-index: 0.5;\\r\\n\\tright: 0px;\\r\\n\\tbottom: 0px;\\r\\n\\tcolor: rgb(240, 240, 240);\\r\\n\\ttext-shadow: 2px 2px 4px #000000;\\r\\n\\tfont-weight: 600;\\r\\n}\\r\\n.tooltip .tooltiptext {\\r\\n\\tvisibility: hidden;\\r\\n\\twidth: 120px;\\r\\n\\tbackground-color:rgba(10,0,5,0.8);\\r\\n\\tcolor: #fff;\\r\\n\\ttext-align: center;\\r\\n\\tborder-radius: 6px;\\r\\n\\tpadding: 5px 0;\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 1;\\r\\n\\tbottom: 125%;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -60px;\\r\\n\\topacity: 0;\\r\\n\\t-webkit-transition: opacity 0.3s;\\r\\n\\ttransition: opacity 0.3s;\\r\\n\\ttext-align: left;\\r\\n\\tpadding: 1em;\\r\\n\\tmin-width: 16em;\\r\\n}\\r\\n/*\\r\\n.tooltip .tooltiptext::after {\\r\\n\\tcontent: \\\"\\\";\\r\\n\\tposition: absolute;\\r\\n\\ttop: 100%;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -5px;\\r\\n\\tborder-width: 5px;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-color: #555 transparent transparent transparent;\\r\\n}\\r\\n*/\\r\\n.tooltip:hover .tooltiptext {\\r\\n\\tvisibility: visible;\\r\\n\\topacity: 1;\\r\\n}\\r\\n.white{\\r\\n\\tcolor: white;\\r\\n}\\r\\n.green{\\r\\n\\tcolor: #24ee10;\\r\\n}\\r\\n.blue{\\r\\n\\tcolor: #0070DD;\\r\\n}\\r\\n.purple{\\r\\n\\tcolor: #ad23ed;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/item/item.component.css\n// module id = ./src/app/item/item.component.css\n// module chunks = main","module.exports = \"\\n<app-tooltip-icon [icon]=\\\"item.icon\\\"  [quantity]=\\\"quantity\\\" (click)=\\\"onClick()\\\" [clickable]=\\\"clickable\\\" >\\n\\t\\t<span class=\\\"{{item.qualityColor}}\\\">{{item.name}}</span><br/>\\n\\t\\t{{item.slot}}<br *ngIf=\\\"item.slot\\\"/>\\n\\t\\t<span *ngFor=\\\"let attr of getAttributeDescriptions()\\\">\\n\\t\\t\\t{{attr.label}}<br/>\\n\\t\\t</span>\\n</app-tooltip-icon>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/item/item.component.html\n// module id = ./src/app/item/item.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Item, Food, Player, Tools } from '../world/';\nimport { Focus } from '../layout/focus';\n\n\n\ninterface AttributeDescComponent {\n\tlabel: string;\n}\n\n@Component({\n\tselector: 'app-item',\n\ttemplateUrl: './item.component.html',\n\tstyleUrls: ['./item.component.css']\n})\nexport class ItemComponent implements OnInit {\n\n\t@Input() item: Item;\n\t@Input() player: Player;\n\t@Input() quantity: number;\n\t@Input() clickable: boolean;\n\t@Output() click = new EventEmitter<Item>();\n\n\tconstructor() { }\n\n\tngOnInit(){}\n\n  ngOnChanges() {\n\t\tif (this.quantity === 1) {\n\t\t\tthis.quantity = null;\n\t\t}\n\t}\n\n\tonClick() {\n\t\tthis.click.emit(this.item);\n\t}\n\n\tgetAttributeDescriptions(): AttributeDescComponent[] {\n\t\tconst attrs = this.item.getAttributeDescriptions();\n\t\treturn attrs.map(a => <AttributeDescComponent>{ label: Tools.format(a.template, a.value) });\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/item/item.component.ts","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes) ]\n})\nexport class AppRoutingModule {\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/app-routing.module.ts","module.exports = \"td {\\t\\r\\n\\tvertical-align: top;\\r\\n}\\r\\n\\r\\ntable{\\r\\n\\twidth: 100%;\\t\\r\\n}\\r\\n\\r\\n.nav{\\r\\n\\twidth: 20%;\\r\\n\\tpadding-right: 4em;\\r\\n}\\r\\n\\r\\n.scene{\\r\\n\\twidth: 80%;\\r\\n}\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/app.component.css\n// module id = ./src/app/layout/app.component.css\n// module chunks = main","module.exports = \"<h1>{{title}}</h1>\\n\\n<nav>\\n\\n\\t<button *ngIf=\\\"focus.selectedPlayer\\\" (click)=\\\"selectTab('game')\\\">Game</button>\\n\\t<button *ngIf=\\\"focus.selectedPlayer\\\" (click)=\\\"selectTab('bank')\\\">Bank</button>\\n\\t<button *ngIf=\\\"focus.selectedPlayer\\\" (click)=\\\"selectTab('armory')\\\">Armory</button>\\n\\t<button *ngIf=\\\"focus.selectedPlayer\\\" (click)=\\\"selectTab('abilities')\\\">Abilities usage</button>\\n\\t<button *ngIf=\\\"focus.selectedPlayer && focus.world.players.length >= 2\\\" (click)=\\\"selectTab('group')\\\">Group</button>\\n\\n\\n</nav>\\n\\n<table style=\\\"width: 100%\\\">\\n\\t<tr>\\n\\t\\t<td class=\\\"nav\\\">\\n\\t\\t\\t<app-nav-group *ngIf=\\\"focus.world\\\" [focus]=\\\"focus\\\">\\n\\t\\t\\t</app-nav-group>\\n\\t\\t</td>\\n\\t\\t<td class=\\\"scene\\\">\\n\\t\\t\\t<app-start-menu *ngIf=\\\"!focus.world\\\" (start)=\\\"start()\\\"></app-start-menu>\\n\\t\\t\\t<div *ngIf=\\\"focus.seletedTab == 'game'\\\">\\n\\t\\t\\t\\t<app-quest-dashboard *ngIf=\\\"focus.availableQuests\\\" [focus]=\\\"focus\\\" [quests]=\\\"focus.availableQuests\\\" [location]=\\\"focus.location\\\"></app-quest-dashboard>\\n\\t\\t\\t\\t<app-activity *ngIf=\\\"focus.activityProgress\\\" [focus]=\\\"focus\\\" [player]=\\\"focus.selectedPlayer\\\"></app-activity>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngIf=\\\"focus.seletedTab == 'bank'\\\">\\n\\t\\t\\t\\t<app-bank *ngIf=\\\"focus.selectedPlayer\\\" [focus]=\\\"focus\\\"></app-bank>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngIf=\\\"focus.seletedTab == 'armory'\\\">\\n\\t\\t\\t\\t<app-armory *ngIf=\\\"focus.selectedPlayer\\\" [focus]=\\\"focus\\\" [player]=\\\"focus.selectedPlayer\\\"></app-armory>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngIf=\\\"focus.seletedTab == 'abilities'\\\">\\n\\t\\t\\t\\t<app-ability-usage *ngIf=\\\"focus.selectedPlayer\\\" [focus]=\\\"focus\\\" [player]=\\\"focus.selectedPlayer\\\"></app-ability-usage>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div *ngIf=\\\"focus.seletedTab == 'group'\\\">\\n\\t\\t\\t\\t<app-edit-group *ngIf=\\\"focus.selectedGroup\\\"  [focus]=\\\"focus\\\" [group]=\\\"focus.selectedGroup\\\"></app-edit-group>\\n\\t\\t\\t</div>\\n\\t\\t</td>\\n\\t</tr>\\n</table>\\n<!-- \\n<app-logs *ngIf=\\\"focus.selectedGroup\\\" [logger]=\\\"focus.selectedGroup.logger\\\"></app-logs>\\n-->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/layout/app.component.html\n// module id = ./src/app/layout/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport { World } from '../world/'; \nimport { Focus } from './focus';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\ttitle = 'MinMax RPG';\t\n\tfocus : Focus = new Focus();\n\n constructor(){\n }\n\n start(){\n\t console.log(\"Start\");\n\t this.focus.world = new World();\n }\n\n selectTab(tabName : string){\n\t this.focus.selectTab(tabName);\n }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/app.component.ts","import {\r\n\tWorld, Group, Activity,\r\n\tPlayer, ActivityProgress, ILevel\r\n} from '../world/';\r\n\r\nexport class Focus {\r\n\tworld: World;\r\n\tselectedGroup: Group;\r\n\tselectedPlayer: Player;\r\n\tavailableQuests: Activity[];\r\n\tactivityProgress: ActivityProgress;\r\n\tlocation: ILevel;\r\n\tseletedTab: string = 'game';\r\n\r\n\r\n\r\n\tconstructor() {\r\n\t\t//Temp\t\r\n\t\tthis.world = new World();\r\n\t\tthis.selectGroup(this.world.players[0], this.world.groups[0]);\r\n\t}\r\n\r\n\r\n\tselectGroup(player: Player, group: Group) {\r\n\t\tthis.selectedPlayer = player;\r\n\t\tthis.selectedGroup = group;\r\n\t\tthis.refresh();\r\n\t}\r\n\r\n\trefresh() {\r\n\t\tthis.availableQuests = null;\r\n\t\tthis.activityProgress = null;\r\n\t\tthis.location = null;\r\n\t\tif (this.selectedGroup) {\r\n\t\t\tthis.location = this.selectedGroup.location;\r\n\t\t\tif (this.selectedGroup.activityProgress && !this.selectedGroup.activityProgress.done) {\r\n\t\t\t\tthis.activityProgress = this.selectedGroup.activityProgress;\r\n\t\t\t} else {\r\n\t\t\t\tthis.availableQuests = this.world.getAvailableQuests(this.selectedGroup);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tselectTab(tabName : string){\r\n\t\tthis.seletedTab = tabName;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/layout/focus.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/log/log.component.css\n// module id = ./src/app/log/log.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"logger.messages.length\\\">\\n\\n  <h2>Messages</h2>  \\n  <div *ngFor='let message of logger.messages'> {{message}} </div>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/log/log.component.html\n// module id = ./src/app/log/log.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Logger } from '../world';\nimport { Input } from '@angular/core';\n\n@Component({\n  selector: 'app-logs',\n  templateUrl: './log.component.html',\n  styleUrls: ['./log.component.css']\n})\nexport class LogComponent implements OnInit {\n\n\n\t@Input() logger: Logger\n\n  constructor() {}\n\n\tngOnInit(){\n\t}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/log/log.component.ts","module.exports = \"\\r\\n.easy{\\r\\n\\tcolor: white;\\r\\n}\\r\\n\\r\\n.normal{\\r\\n\\tcolor: #24ee10;\\r\\n}\\r\\n\\r\\n.hard{\\r\\n\\tcolor: #0070DD;\\r\\n}\\r\\n\\r\\n.heroic{\\r\\n\\tcolor: #ad23ed;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mob/mob.component.css\n// module id = ./src/app/mob/mob.component.css\n// module chunks = main","module.exports = \"<app-tooltip-icon [icon]=\\\"mob.icon\\\" [isDead]=\\\"mob.isDead\\\">\\n\\t\\t<span class=\\\"{{qualityColor}}\\\">{{mob.name}}</span><br/>\\t\\t\\n\\t\\t<span>Life:{{mob.maxLife}}</span><br/>\\n\\t\\t<span>DPS:{{dps}}</span><br/>\\n\\t\\t<span>Difficulty:<span [ngClass]=\\\"difficulty\\\">{{difficulty}}</span></span><br/>\\n</app-tooltip-icon>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mob/mob.component.html\n// module id = ./src/app/mob/mob.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Mob, Tools } from '../world/';\nimport { Focus } from '../layout/focus';\n\n@Component({\n  selector: 'app-mob',\n  templateUrl: './mob.component.html',\n  styleUrls: ['./mob.component.css']\n})\nexport class MobComponent implements OnInit {\n\n  constructor() { }\n\n\t@Input() mob: Mob;\n\t@Input() focus: Focus;\n\tdps = 0;\n\tdifficulty = 'normal';\n\n\tngOnInit(){}\n\n  ngOnChanges() {\n\t\tthis.dps = this.mob.getWeaponDps();\n\t\tif(this.focus && this.focus.selectedGroup){\n\t\t\tthis.difficulty = this.focus.selectedGroup.getFightDifficulty(this.mob);\n\t\t}\t\t\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mob/mob.component.ts","module.exports = \".player{\\r\\n\\tcursor: pointer;\\r\\n\\tborder-bottom: 1px dotted gainsboro;\\r\\n}\\r\\n\\r\\n.selected{\\r\\n\\tbackground-color: #ACE;\\r\\n\\tborder-radius:2px;\\r\\n}\\r\\n\\r\\n.group{\\r\\n\\tborder-left: 3px solid #114;\\r\\n\\tborder-bottom: 1px solid #114;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/nav-group/nav-group.component.css\n// module id = ./src/app/nav-group/nav-group.component.css\n// module chunks = main","module.exports = \"<div *ngFor=\\\"let group of focus.world.groups\\\" [ngClass]=\\\"{group:group.players.length != 1}\\\">\\n\\t<div *ngFor=\\\"let player of group.players\\\" (click)=\\\"click(player, group)\\\" class=\\\"player\\\" [ngClass]=\\\"{selected:player===this.focus.selectedPlayer}\\\">\\n\\t\\t<app-fighting-character [character]=\\\"player\\\" [world]=\\\"focus.world\\\" [showAbilities]=\\\"player===this.focus.selectedPlayer\\\"></app-fighting-character>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/nav-group/nav-group.component.html\n// module id = ./src/app/nav-group/nav-group.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output } from '@angular/core';\nimport { World, Group, Player } from '../world/';\nimport { Focus } from '../layout/focus';\n\n\n@Component({\n  selector: 'app-nav-group',\n  templateUrl: './nav-group.component.html',\n  styleUrls: ['./nav-group.component.css']\n})\nexport class NavGroupComponent implements OnInit {\n\n\t@Input() focus: Focus;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n\tclick(player: Player, group: Group){\t\n\t\tthis.focus.selectGroup(player, group);\t\t\t\t\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/nav-group/nav-group.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/player-icon/player-icon.component.css\n// module id = ./src/app/player-icon/player-icon.component.css\n// module chunks = main","module.exports = \"<app-tooltip-icon [icon]=\\\"player.icon\\\" [isDead]=\\\"player.isDead\\\">\\n\\t<span class=\\\"{{qualityColor}}\\\">{{player.name}}</span>\\n\\t<br/>\\n\\t<span>Life:{{currentLife$|async}}/{{(player.$|async).maxLife}}</span>\\n\\n\\t<span *ngIf=\\\"player.useMana\\\"><br/>Mana:{{currentMana$|async}}/{{(player.$|async).maxMana}}</span>\\n\\n\\t<br/><span>Swing DPS: {{dps$|async}}</span>\\n\\t\\n</app-tooltip-icon>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/player-icon/player-icon.component.html\n// module id = ./src/app/player-icon/player-icon.component.html\n// module chunks = main","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\nimport { Player, Tools } from '../world/';\nimport { Focus } from '../layout/focus';\n\n@Component({\n  selector: 'app-player-icon',\n  templateUrl: './player-icon.component.html',\n\tstyleUrls: ['./player-icon.component.css'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PlayerIconComponent implements OnInit {\n\n\t@Input() player: Player;\n\tdps$;\n\tcurrentLife$;\n\tcurrentMana$;\n\n  constructor() { }\n  ngOnInit() {\n\t\tthis.dps$ = this.player.$.map(p=>p.getWeaponDps());\n\t\tthis.currentLife$ = this.player.$.map(p=>Math.floor(p.currentLife));\n\t\tthis.currentMana$ = this.player.$.map(p=>Math.floor(p.currentMana));\n\t}\n\tngOnChanges() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player-icon/player-icon.component.ts","module.exports = \".progress{\\r\\n\\tposition:relative;\\r\\n\\tborder:1px solid #333;\\t\\t\\r\\n\\tbackground-color:#bbb;\\t\\r\\n  width: 100%;  \\r\\n}\\r\\n.bar{\\t\\t\\t\\r\\n\\theight:1em;\\r\\n}\\r\\n.text{\\r\\n\\tposition:absolute;\\r\\n\\tcolor: white;\\t\\r\\n\\tfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\\r\\n\\tfont-size: 0.875em;\\t\\r\\n\\ttop: 50%;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-right: -50%;\\r\\n\\t-webkit-transform: translate(-50%, -50%);\\r\\n\\t        transform: translate(-50%, -50%)\\r\\n\\t\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/progressbar/progressbar.component.css\n// module id = ./src/app/progressbar/progressbar.component.css\n// module chunks = main","module.exports = \"<div class=\\\"progress\\\">\\n\\t<div class=\\\"bar\\\" [ngStyle]=\\\"{'width.%':percent , 'background-color':color}\\\"></div>\\n\\t<div class=\\\"text\\\" *ngIf=\\\"showText\\\">{{text}}</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/progressbar/progressbar.component.html\n// module id = ./src/app/progressbar/progressbar.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\n\nimport { Input, Output } from '@angular/core';\n@Component({\n\tselector: 'app-progressbar',\n\ttemplateUrl: './progressbar.component.html',\n\tstyleUrls: ['./progressbar.component.css']\n})\nexport class ProgressbarComponent implements OnInit {\n\n\tconstructor() { }\n\n\t@Input() value: number;\n\t@Input() max: number;\n\t@Input() showText: boolean = true;\n\t@Input() color: string = 'green';\n\n\ttext: string;\n\tpercent: number;\n\n\tngOnInit() { }\n\tngOnChanges() {\t\t\t\t\n\t\tthis.percent = Math.floor(this.value * 100 / (this.max !== 0 ? this.max : 100));\n\t\tthis.text = Math.floor(this.value) + \"/\" + this.max;\t\t\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/progressbar/progressbar.component.ts","module.exports = \".locationIcon {\\r\\n\\tcursor: inherit;\\r\\n\\tfont-size: 2em;\\t\\r\\n\\tmargin: 0.1em;\\r\\n\\tpadding: 0.1em;\\t\\r\\n\\tborder-radius: 0.1em;\\r\\n  text-align: center;\\r\\n  font-family: \\\"Noto Color Emoji\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", Times, Symbola, Aegyptus, Code2000, Code2001, Code2002, Musica, serif, LastResort;\\r\\n}\\r\\n.questIcon{\\r\\n\\tfont-family: \\\"Noto Color Emoji\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", Times, Symbola, Aegyptus, Code2000, Code2001, Code2002, Musica, serif, LastResort;\\t\\r\\n}\\r\\nul.list .selected {\\r\\n\\tbackground-color: #CFD8DC !important;\\r\\n\\tcolor: white;\\r\\n}\\r\\nul.list  {\\r\\n\\tmargin: 0 0 2em 0;\\r\\n\\tlist-style-type: none;\\r\\n\\tpadding: 0;\\r\\n\\twidth: 19em;\\r\\n}\\r\\nul.list li {\\r\\n\\tcursor: pointer;\\r\\n\\tposition: relative;\\r\\n\\tleft: 0;\\r\\n\\tbackground-color: #EEE;\\r\\n\\tmargin: .5em;\\r\\n\\tpadding: .3em 0;\\r\\n\\theight: 1.6em;\\r\\n\\tborder-radius: 4px;\\r\\n}\\r\\nul.list li.selected:hover {\\r\\n\\tbackground-color: #BBD8DC !important;\\r\\n\\tcolor: white;\\r\\n}\\r\\nul.list li:hover {\\r\\n\\tcolor: #607D8B;\\r\\n\\tbackground-color: #DDD;\\r\\n\\tleft: .1em;\\r\\n}\\r\\nul.list  .text {\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\nul.list span {\\r\\n\\tdisplay: inline-block;\\r\\n\\tfont-size: small;\\r\\n\\tcolor: white;\\r\\n\\tpadding: 0.8em 0.7em 0 0.7em;\\r\\n\\tbackground-color: #607D8B;\\r\\n\\tline-height: 1em;\\r\\n\\tposition: relative;\\r\\n\\tleft: -1px;\\r\\n\\ttop: -4px;\\r\\n\\theight: 1.8em;\\r\\n\\tmargin-right: .8em;\\r\\n\\tborder-radius: 4px 0 0 4px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/quest-dashboard/quest-dashboard.component.css\n// module id = ./src/app/quest-dashboard/quest-dashboard.component.css\n// module chunks = main","module.exports = \"<p>\\n\\t<span class=\\\"locationIcon\\\">{{location.icon}}</span>{{location.name}}\\n</p>\\n<ul class=\\\"list\\\">\\n\\t<li *ngFor=\\\"let quest of quests\\\">\\n\\t\\t<div (click)=\\\"click(quest)\\\">\\n\\t\\t\\t<span class=\\\"questIcon\\\">{{quest.icon}}</span> {{quest.name}}\\n\\t\\t</div>\\n\\t</li>\\n</ul>\\n\\n<div *ngIf=\\\"selectedQuest\\\">\\n\\t<p>{{selectedQuest.name}}</p>\\n\\t<p *ngIf=\\\"selectedQuest.description && selectedQuest.description !== selectedQuest.name\\\">{{selectedQuest.description}}</p>\\n\\n\\t<span *ngIf=\\\"selectedQuest.destination\\\">\\n\\t\\tGo to <span class=\\\"locationIcon\\\">{{selectedQuest.destination.icon}}</span>{{selectedQuest.destination.name}} <br/>\\n\\t</span>\\n\\n\\t<span *ngIf=\\\"selectedQuest.mobSample\\\">\\n\\t\\tEnnemy:\\n\\t\\t<br/>\\n\\t\\t<app-mob [mob]=\\\"selectedQuest.mobSample\\\" [focus]=\\\"focus\\\" ></app-mob>\\n\\t\\t<br/>\\n\\t\\t<br/>\\n\\t</span>\\n\\n\\t<span *ngIf=\\\"selectedQuest.ability\\\">\\n\\t\\tLearn new ability:\\n\\t\\t<div class=\\\"item-container\\\">\\n\\t\\t\\t<app-ability-icon [ability]=\\\"selectedQuest.ability\\\"></app-ability-icon>\\n\\t\\t</div>\\t\\t\\n\\t\\t<br/>\\n\\t</span>\\n\\n\\t<span *ngIf=\\\"selectedQuest.rewards && selectedQuest.rewards.length != 0\\\">\\n\\t\\tRewards:\\n\\t\\t<div class=\\\"item-container\\\">\\n\\t\\t\\t<app-item *ngFor=\\\"let item of selectedQuest.rewards\\\" [item]=\\\"item\\\"></app-item>\\n\\t\\t</div>\\t\\t\\n\\t</span>\\n\\n\\t<br/><br/>\\n\\t<button (click)=\\\"startQuest()\\\">Start quest</button>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/quest-dashboard/quest-dashboard.component.html\n// module id = ./src/app/quest-dashboard/quest-dashboard.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { Input, Output } from '@angular/core';\r\nimport { World, Group, Activity, ILevel } from '../world/';\r\nimport { Focus } from '../layout/focus';\r\n\r\n@Component({\r\n\tselector: 'app-quest-dashboard',\r\n\ttemplateUrl: './quest-dashboard.component.html',\r\n\tstyleUrls: ['./quest-dashboard.component.css']\r\n})\r\nexport class QuestDashboardComponent implements OnInit {\r\n\r\n\t@Input() focus: Focus;\r\n\t@Input() quests: Activity[];\r\n\t@Input() location: ILevel;\r\n\tselectedQuest : Activity;\r\n\t\r\n\r\n\r\n\tconstructor() {\t\r\n\t}\r\n\t\r\n\tngOnInit(){}\r\n\r\n  ngOnChanges() {\r\n\t\tthis.selectedQuest = null;\r\n\t}\r\n\r\n\tclick(quest: Activity){\r\n\t\tthis.selectedQuest = quest;\r\n\t}\r\n\r\n\tstartQuest(){\r\n\t\tthis.focus.world.startActivity(this.focus.selectedGroup, this.selectedQuest);\r\n\t\tthis.focus.refresh();\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/quest-dashboard/quest-dashboard.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/recruitment/recruitment.component.css\n// module id = ./src/app/recruitment/recruitment.component.css\n// module chunks = main","module.exports = \"<p>\\n  recruitment works!\\n</p>\\n<ul class=\\\"\\\">\\n  <li *ngFor=\\\"let candidate of candidates\\\">\\n    <a routerLink=\\\"/detail/{{candidate.character.id}}\\\">\\n      <span class=\\\"badge\\\">{{candidate.character.name}}</span>\\n    </a>\\n  </li>    \\n</ul>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/recruitment/recruitment.component.html\n// module id = ./src/app/recruitment/recruitment.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Candidate } from '../world/';\n\n\n@Component({\n  selector: 'app-recruitment',\n  templateUrl: './recruitment.component.html',\n  styleUrls: ['./recruitment.component.css']\n})\nexport class RecruitmentComponent implements OnInit {\n\n  candidates:Candidate[];\n  constructor() { \n    \n  }\n\n  ngOnInit() {\n\t\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/recruitment/recruitment.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/start-menu/start-menu.component.css\n// module id = ./src/app/start-menu/start-menu.component.css\n// module chunks = main","module.exports = \"<p>Welcome</p>\\n<ul class=\\\"\\\">\\n  <li>\\n    <button (click)=\\\"play()\\\">\\n        <span class=\\\"badge\\\">Play</span>\\n    </button>\\n  </li>  \\n  <li>\\n      <button (click)=\\\"reset()\\\">\\n          <span class=\\\"badge\\\">Reset current game</span>\\n      </button>\\n    </li>\\n</ul>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/start-menu/start-menu.component.html\n// module id = ./src/app/start-menu/start-menu.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-start-menu',\n  templateUrl: './start-menu.component.html',\n  styleUrls: ['./start-menu.component.css']\n})\nexport class StartMenuComponent implements OnInit {\n\n\t@Output() start: EventEmitter<any> = new EventEmitter();\n  constructor(\n    \n  ) { }\n  \n  ngOnInit() {    \n  }\n\t\n\tplay(){\n\t\tthis.start.emit(null);\n\t}\n\t\n  reset(){\n   \n  }  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/start-menu/start-menu.component.ts","module.exports = \".tooltip {\\r\\n\\tposition: relative;\\r\\n\\tdisplay: inline-block;\\t\\r\\n\\r\\n}\\r\\n.clickable{\\r\\n\\tcursor:pointer;\\r\\n}\\r\\n.icon {\\r\\n\\tcursor: inherit;\\r\\n\\tfont-size: 2em;\\r\\n\\tbackground-color:#EEE;  \\r\\n\\tmargin: 0.1em;\\r\\n\\tpadding: 0.1em;\\t\\r\\n\\tborder-radius: 0.1em;\\r\\n  text-align: center;\\r\\n  font-family: \\\"Noto Color Emoji\\\", \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", Times, Symbola, Aegyptus, Code2000, Code2001, Code2002, Musica, serif, LastResort;\\r\\n}\\r\\n.clickable .icon{\\r\\n\\tcursor:pointer;\\r\\n}\\r\\n.clickable .icon:hover {\\r\\n\\t\\tbackground-color: #DDD;\\r\\n\\t\\tmargin-left: 5px;\\r\\n\\t\\tmargin-right: 3px;\\r\\n}\\r\\n.quantity{\\r\\n\\tposition: absolute;\\r\\n\\ttext-align: right;\\r\\n\\tpadding-right: 0.6em;\\r\\n\\tz-index: 0.5;\\r\\n\\tright: 0px;\\r\\n\\tbottom: 0px;\\r\\n\\tcolor: rgb(240, 240, 240);\\r\\n\\ttext-shadow: 2px 2px 4px #000000;\\r\\n\\tfont-weight: 600;\\r\\n}\\r\\n.tooltip .tooltiptext {\\r\\n\\tvisibility: hidden;\\r\\n\\twidth: 120px;\\r\\n\\tbackground-color:rgba(10,0,5,0.8);\\r\\n\\tcolor: #fff;\\r\\n\\ttext-align: center;\\r\\n\\tborder-radius: 6px;\\r\\n\\tpadding: 5px 0;\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 1;\\r\\n\\tbottom: 125%;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -60px;\\r\\n\\topacity: 0;\\r\\n\\t-webkit-transition: opacity 0.3s;\\r\\n\\ttransition: opacity 0.3s;\\r\\n\\ttext-align: left;\\r\\n\\tpadding: 1em;\\r\\n\\tmin-width: 16em;\\r\\n\\tfont-size: 1rem;\\r\\n}\\r\\n.tooltip:hover .tooltiptext {\\r\\n\\tvisibility: visible;\\r\\n\\topacity: 1;\\r\\n}\\r\\n.dead{\\r\\n\\t-webkit-transform:rotate(-180deg);\\r\\n\\ttransform:rotate(-180deg);\\r\\n\\tfilter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\\r\\n\\tbackground: pink; \\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/tooltip-icon/tooltip-icon.component.css\n// module id = ./src/app/tooltip-icon/tooltip-icon.component.css\n// module chunks = main","module.exports = \"<div (click)=\\\"onClick()\\\" [ngClass]=\\\"{'tooltip':true, 'clickable':clickable}\\\">\\n\\t<span>\\n\\t\\t<div [ngClass]=\\\"{'icon':true, 'dead': isDead}\\\">{{icon}}</div> \\n\\t\\t<span class=\\\"quantity\\\">{{quantity}}</span>\\n\\t</span>\\n\\t<span class=\\\"tooltiptext\\\">\\n\\t\\t<ng-content></ng-content>\\n\\t</span>\\n</div> \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/tooltip-icon/tooltip-icon.component.html\n// module id = ./src/app/tooltip-icon/tooltip-icon.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-tooltip-icon',\n  templateUrl: './tooltip-icon.component.html',\n\tstyleUrls: ['./tooltip-icon.component.css']  \n})\nexport class TooltipIconComponent implements OnInit {\n\n  constructor() { }\n\n\t@Input() icon: string;\n\t@Input() clickable: boolean;\n\t@Input() isDead: boolean = false;\n\t@Input() quantity : number;\n\t@Output() click = new EventEmitter<any>();\n\n  ngOnInit() {\n  }\n\tonClick() {\n\t\tthis.click.emit();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/tooltip-icon/tooltip-icon.component.ts","import {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\nimport {\r\n\tTools, Logger, World, Character, AbilityCondition, Casting\r\n} from '../../world';\r\n\r\n\r\n\r\nexport abstract class Ability {\r\n\t$ = new BehaviorSubject(this);\r\n\r\n\tcooldown: number = 0;\r\n\tlastCastTick: number = -6000;\r\n\tlastActionDesc: string = '';\r\n\tlastActionTick: number = -6000;\r\n\tdescription: string;\r\n\tdefaultAbilityCondition: AbilityCondition;\r\n\tcasting: Casting;\t\r\n\tcastingDuration: number;\r\n\tmanaCost : number;\r\n\trequirements : {description:string, ok:boolean}[] = [];\t\r\n\tconstructor(\r\n\t\tpublic icon: string,\r\n\t\tpublic name: string) {\r\n\t}\r\n\tpublic dispatch(){\r\n\t\tthis.$.next(this);\r\n\t}\r\n\r\n\tonCharacterChanges(character: Character) {\r\n\t}\r\n\r\n\tsetLastActionDesc(description: string, tick: number) {\r\n\t\tthis.lastActionDesc = description;\r\n\t\tthis.lastActionTick = tick;\t\t\r\n\t}\r\n\r\n\ttickCast(logger: Logger, tick: number,\r\n\t\tself: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character): boolean {\r\n\t\tif ((tick - this.lastCastTick) < this.cooldown) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst ok = this.cast(logger, self, target, myGroup, targets, conditionTarget, tick);\r\n\t\tif (ok) {\r\n\t\t\tthis.lastCastTick = tick;\r\n\t\t\tself.dispatchAbilities();\r\n\t\t}\r\n\t\treturn ok;\r\n\t}\r\n\tprotected abstract cast(logger: Logger, self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean;\r\n\r\n\r\n\tprotected getBaseDamage(dmgMultiplier: number, self: Character, target: Character) {\r\n\t\tconst ap = self.characterStat.getAttackPower(self, this, target);\r\n\t\tconst apBonus = ap * self.weaponCooldown / 14;\r\n\t\treturn (self.weaponDamage + apBonus) * dmgMultiplier;\r\n\t}\r\n\r\n\tprotected doPhysicalDamage(dmgMultiplier: number, logger: Logger, self: Character, target: Character, tick: number) {\r\n\t\tconst baseDmg = this.getBaseDamage(dmgMultiplier,self, target);\r\n\t\tconst dmg = Math.floor(baseDmg * Tools.random(0.5, 1.5));\r\n\t\tconst reducedDamage = target.characterStat.armorReduceDamage(dmg, self, this, target);\r\n\t\tlogger.log(`${self.name} do ${reducedDamage} damages to ${target.name} with a ${this.name}`);\r\n\t\ttarget.takeDamage(logger, reducedDamage);\r\n\t\tthis.setLastActionDesc(`Done ${reducedDamage} damages`, tick);\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/ability.ts","import {\r\n\tTools, Logger, Ability, Character\r\n} from '../../world';\r\n\r\n\r\nexport class AbilityCondition {\r\n\r\n\tpublic ability: Ability;\r\n\tpublic static allTypes = ['always', 'lifeIsLess', 'lifeIsMore'];\r\n\ttype: string = 'always';\r\n\tvalues: any[] = [];\r\n\r\n\r\n\tstatic newMyLifeIsLess(ability: Ability, percent: number): AbilityCondition {\r\n\t\tconst c = new AbilityCondition();\r\n\t\tc.ability = ability;\r\n\t\tc.type = 'lifeIsLess';\r\n\t\tc.values = ['myself', percent];\r\n\t\treturn c;\r\n\t}\r\n\r\n\tcheckAction(logger: Logger, self: Character, target: Character, myGroup: Character[],\r\n\t\ttargets: Character[], tick: number): boolean {\r\n\t\tconst conditionTarget = this.evaluate(self, target, myGroup, targets);\r\n\t\treturn this.ability.tickCast(logger, tick, self, target, myGroup, targets, conditionTarget);\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\tevaluate(self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[]): Character {\r\n\t\tswitch (this.type) {\r\n\t\t\tcase 'always': return target;\r\n\t\t\tcase 'lifeIsLess': return this.lifeIsLess(self, target, myGroup, targets, true);\r\n\t\t\tcase 'lifeIsMore': return this.lifeIsLess(self, target, myGroup, targets, false);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate lifeIsLess(self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], isLess: boolean): Character {\r\n\t\tconst targetType = this.values[0];\r\n\t\tconst lifePercent = this.values[1];\r\n\t\tif (!lifePercent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet lookIn: Character[];\r\n\t\tswitch (targetType) {\r\n\t\t\tcase 'myself': lookIn = [self]; break;\r\n\t\t\tcase 'tank': lookIn = [myGroup[0]]; break;\r\n\t\t\tcase 'mob': lookIn = [target]; break;\r\n\t\t\tcase 'friend': lookIn = myGroup; break;\r\n\t\t\tdefault : throw 'unknow option: ' + targetType;\r\n\t\t}\r\n\t\tfor (let c of lookIn) {\r\n\t\t\tif (isLess) {\r\n\t\t\t\tif (c.getCurrentLifePercent() < lifePercent) {\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (c.getCurrentLifePercent() > lifePercent) {\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/abilityCondition.ts","import {\r\n\tTools, Logger,  Ability, Character,AbilityCondition\r\n} from '../../world';\r\n\r\n\r\nexport class AbilitySelector {\r\n\tabilityConditions: AbilityCondition[] = [];\r\n\teatIfLifePercentUnder = 90;\r\n\t\r\n\tchoseAction(logger: Logger, self: Character, target: Character, myGroup: Character[],\r\n\t\ttargets: Character[], tick: number): boolean {\r\n\t\tif(self.casting){\r\n\t\t\tif(self.casting.tick()){\t\t\t\t\r\n\t\t\t\tconst castingDone = self.casting.castingDone;\r\n\t\t\t\tself.casting.ability.casting = null;\r\n\t\t\t\tself.casting = null;\r\n\r\n\t\t\t\tcastingDone(tick);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (let abilityCondition of this.abilityConditions) {\r\n\t\t\tif (abilityCondition.checkAction(logger, self, target, myGroup, targets, tick)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/abilitySelector.ts","import {\r\n\tTools, Logger, Ability, Character, Buff\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class Casting {\r\n\r\n\tpublic percent = 0;\r\n\tprivate tickCount = 0;\r\n\r\n\tconstructor(\r\n\t\tprivate durationTick: number,\r\n\t\tpublic ability:Ability,\r\n\t\tpublic castingDone: (tick) => void\r\n\t) {\t\r\n\t}\r\n\tpublic tick(): boolean {\r\n\t\tthis.tickCount++;\r\n\t\tif (this.durationTick != 0) {\r\n\t\t\tthis.percent = Math.min(100, Math.round(this.tickCount * 100 / this.durationTick));\r\n\t\t}\r\n\t\treturn this.tickCount >= this.durationTick;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/casting.ts","import {\r\n\tTools, Logger, Ability, Character, Buff, Casting, AbilityCondition\r\n} from '../../world';\r\n\r\nexport class CastingHeal extends Ability {\r\n\r\n\t\r\n\tconstructor(\r\n\t\ticon: string,\r\n\t\tname: string,\r\n\t\tpublic baseManaCost: number,\r\n\t\tpublic castingDuration: number,\r\n\t\tpublic cooldown: number,\r\n\t\tpublic baseHeal: number,\r\n\t\tpublic intellectPower: number) {\r\n\t\tsuper(icon, name);\r\n\t\tthis.manaCost = baseManaCost;\r\n\t\t\r\n\t\tthis.description = `Heals ${baseHeal} + ${intellectPower} INT lifes`;\r\n\t\tthis.defaultAbilityCondition = new AbilityCondition();\r\n\t\tthis.defaultAbilityCondition.ability = this;\r\n\t\tthis.defaultAbilityCondition.type = 'lifeIsLess';\r\n\t\tthis.defaultAbilityCondition.values[0] = 'friend';\r\n\t\tthis.defaultAbilityCondition.values[1] = 50;\r\n\t}\r\n\r\n\tonCharacterChanges(character: Character) {\r\n\t\tsuper.onCharacterChanges(character);\r\n\t\tconst baseHeal = this.getHealWithInt(character, null);\r\n\t\tthis.description = `Heals ${baseHeal} lifes`;\r\n\t\tconst intellect = character.characterStat.intellect.getValue(character, this, null);\r\n\t\tthis.manaCost = Math.floor(this.baseManaCost + this.intellectPower * intellect/3);\r\n\t\tthis.dispatch();\r\n\t}\r\n\r\n\tprivate getHealWithInt(self: Character, target: Character) {\r\n\t\tconst intellect = self.characterStat.intellect.getValue(self, this, target);\r\n\t\tconst heal = Math.round(this.baseHeal + this.intellectPower * intellect);\r\n\t\treturn heal;\r\n\t}\r\n\r\n\tprotected cast(logger: Logger, self: Character, fightTarget: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst target = (conditionTarget || self);\r\n\t\tif (conditionTarget.type !== self.type) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (target.isDead) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (self.currentMana < this.manaCost) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.setLastActionDesc(`Casting on ${target.name}`, tick);\r\n\t\tthis.casting = self.casting = new Casting(this.castingDuration, this, (tick2) => {\r\n\t\t\tif (target.isDead) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (self.currentMana < this.manaCost) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself.currentMana -= this.manaCost;\r\n\t\t\tconst baseHeal = this.getHealWithInt(self, target);\r\n\t\t\tconst heal = Math.round(Tools.random(0.5, 1.5) * baseHeal);\r\n\t\t\tconst incr = Math.min(heal, target.maxLife - target.currentLife);\r\n\t\t\ttarget.currentLife += incr;\r\n\t\t\tconsole.log(`${this.icon} ${self.name} restores ${incr} lifes on ${target.name}`);\r\n\t\t\tthis.setLastActionDesc(`Restores ${incr} lifes on ${target.name}`, tick2);\r\n\t\t\tthis.lastCastTick = tick2;\r\n\t\t});\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/castingHeal.ts","import {\r\n\tTools, Logger, Ability, Character, Player\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class DrinkPotion extends Ability {\r\n\r\n\tconstructor(icon: string, name: string, cooldown: number) {\r\n\t\tsuper(icon, name);\r\n\t\tthis.cooldown = cooldown;\r\n\t\tthis.description = 'Consume a potion during fight to heal you';\r\n\t\tthis.requirements = [{ description: 'Need potions', ok: true }];\r\n\t}\r\n\tprotected cast(logger: Logger, self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst player = <Player>self;\r\n\t\tif (!player.isPlayer) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (player.getCurrentLifePercent() >= 99) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst potion = player.group.world.bag.popPotion();\r\n\t\tif (!potion) {\r\n\t\t\tthis.setLastActionDesc('No more potion in bank', tick);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst incr = Math.min(potion.restoreLife, player.maxLife - player.currentLife);\r\n\t\tplayer.currentLife += incr;\r\n\t\tthis.setLastActionDesc(`Restore ${incr} lifes`, tick);\r\n\t\tconsole.log(`${this.icon} ${self.name} drink potion for ${incr} lifes`);\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/drinkPotion.ts","import {\r\n\tTools, Logger, Ability, Character\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class HighBlow extends Ability {\r\n\r\n\tprivate dmgMultiplier = 1.8;\r\n\tconstructor(icon: string, name: string, cooldown: number) {\r\n\t\tsuper(icon, name);\r\n\t\tthis.cooldown = cooldown;\r\n\t\tthis.requirements = [{ description: 'Requires two-handed weapon', ok: true }];\r\n\t\tthis.description = `A high blow against the opponent's head. `;\r\n\t}\r\n\r\n\tonCharacterChanges(character: Character) {\r\n\t\tsuper.onCharacterChanges(character);\r\n\t\tthis.requirements = [{ description: 'Requires two-handed weapon', ok: character.weaponType === 'two-hand' }];\r\n\t\tconst baseDmg = Math.round(this.getBaseDamage(this.dmgMultiplier, character, null));\r\n\t\tthis.description = `A high blow doing ${baseDmg} damages on the opponent's head. `;\r\n\t\tthis.dispatch();\r\n\t}\r\n\r\n\tprotected cast(logger: Logger, self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (self.weaponType !== 'two-hand') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.doPhysicalDamage(this.dmgMultiplier, logger, self, target, tick);\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/highBlow.ts","import {\r\n\tTools, Logger, Ability, Character, Buff\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class InstantBuff extends Ability {\r\n\r\n\tconstructor(\r\n\t\ticon: string,\r\n\t\tname: string,\r\n\t\tpublic buff: Buff,\r\n\t\tpublic isDebuff: boolean,\r\n\t\tpublic buffCountLimit = 1,\r\n\t\tcooldown: number = 0) {\r\n\t\tsuper(icon, name);\r\n\t\tthis.cooldown = cooldown;\r\n\t}\r\n\tprotected cast(logger: Logger, self: Character, fightTarget: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst target = this.isDebuff ? fightTarget : (conditionTarget || self);\r\n\t\tif (target.isDead) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst buffList = this.isDebuff ? target.debuffs : target.buffs;\r\n\t\tif (buffList.appliedBuffs\r\n\t\t\t.filter(a => a.buff.buffType === this.buff.buffType).length\r\n\t\t\t >= this.buffCountLimit) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tbuffList.addBuff(tick, self, target, this.buff);\t\t\r\n\t\tthis.setLastActionDesc(`Used on ${target.name}`, tick);\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/instantBuff.ts","import {\r\n\tTools, Logger, Ability, Character, Buff\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class ShieldBuff extends Ability {\r\n\r\n\tconstructor(\r\n\t\ticon: string,\r\n\t\tname: string,\r\n\t\tpublic buff: Buff,\r\n\t\tpublic cooldown: number) {\r\n\t\tsuper(icon, name);\r\n\t\tif (buff.buffType.tag !== \"shield\") {\r\n\t\t\tthrow 'invalid buff tag';\r\n\t\t}\r\n\t\tthis.requirements = [{ description: 'Requires a shield', ok: true }];\r\n\t}\r\n\r\n\tonCharacterChanges(character: Character) {\r\n\t\tsuper.onCharacterChanges(character);\r\n\t\tthis.requirements = [{ description: 'Requires a shield', ok: character.hasShield()}];\t\t\r\n\t\tthis.dispatch();\r\n\t}\r\n\r\n\tprotected cast(logger: Logger, self: Character, fightTarget: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\t\tif(!self.hasShield()){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (self.buffs.appliedBuffs.filter(a => a.buff.buffType.tag === \"shield\").length !== 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tself.buffs.addBuff(tick, self, self, this.buff);\r\n\t\tthis.setLastActionDesc(`Refreshed`, tick);\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/shieldBuff.ts","import {\r\n\tTools, Logger, Ability, Character\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class Swing extends Ability {\r\n\r\n\tconstructor(icon: string, name: string) {\r\n\t\tsuper(icon, name);\r\n\t\tthis.cooldown = 1;\r\n\t\tthis.description = `Basic attack using current weapon`;\r\n\t}\r\n\r\n\tonCharacterChanges(character: Character) {\r\n\t\tsuper.onCharacterChanges(character);\r\n\t\tthis.cooldown = character.weaponCooldown;\r\n\t\tconst baseDmg = Math.round(this.getBaseDamage(1, character, null));\r\n\t\tthis.description = `Basic attack doing ${baseDmg} damages using current weapon`;\r\n\t\tthis.dispatch();\r\n\t}\r\n \r\n\tprotected cast(logger: Logger, self: Character, target: Character,\r\n\t\tmyGroup: Character[], targets: Character[], conditionTarget: Character, tick: number): boolean {\r\n\t\tif (!conditionTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.cooldown = self.weaponCooldown;\r\n\t\tthis.doPhysicalDamage(1, logger, self, target, tick);\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/ability/swing.ts","\r\n\r\nimport {\r\n\tITask, Group\r\n} from '../../world';\r\n\r\n\r\n\r\nexport abstract class Activity {\r\n\tid: string;\r\n\ticon: string;\r\n\tdescription: string;\r\n\tconstructor(public name: string) {\r\n\t\tthis.id = this.name;\r\n\t\tthis.description = this.name;\r\n\t}\r\n\tpublic abstract start(group: Group): ITask;\r\n\tpublic abstract onQuestSuccess(group: Group);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/activity.ts","import {\r\n\tThread, Activity, Group, Quest\r\n} from '../../world';\r\n\r\n\r\nexport class ActivityProgress {\r\n\r\n\tpublic thread: Thread;\r\n\tpublic done: boolean = false;\r\n\tpublic success: boolean = false;\r\n\r\n\tconstructor(\r\n\t\tpublic activity: Activity,\r\n\t\tpublic group: Group) {\r\n\t\tthis.group.cleanLogs();\r\n\t\tconst rootTask = activity.start(group);\r\n\t\tthis.thread = new Thread(rootTask);\r\n\t}\r\n\r\n\tpublic tick() {\r\n\t\tconst threadAlive = this.thread.tick();\r\n\t\tif (!threadAlive) {\r\n\t\t\tthis.done = true;\r\n\t\t\tif (this.thread.returnedValue) {\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tthis.group.world.progress.doneQuest(this.activity);\r\n\t\t\t\tthis.activity.onQuestSuccess(this.group);\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/activityProgress.ts","import {\r\n\tQuest, Mob, ITask, Group, KillQuestTask\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class KillQuest extends Quest {\t\r\n\tmobSample : Mob;\r\n\tconstructor(\r\n\t\tpublic mobBuilder: () => Mob,\r\n\t\tpublic quantity: number,\r\n\t) {\t\t\r\n\t\tsuper(\"\");\r\n\t\tthis.mobSample =this.mobBuilder();\t\t\r\n\t\tthis.description = this.name = `Kill ${quantity} ${this.mobSample.name}s`;\r\n\t\tthis.icon = this.mobSample.icon;\r\n\t}\r\n\r\n\t\r\n\tpublic start(group: Group): ITask {\r\n\t\treturn new KillQuestTask(group, this);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/killQuest.ts","import {\r\n\tActivity, ITask, Group, ILevel, TaskProgress, Ability, Player\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class LearnActivity extends Activity {\r\n\tpublic ability: Ability;\r\n\tconstructor(\r\n\t\tpublic profession: string,\r\n\t\tpublic abilityBuilder: () => Ability\r\n\t) {\r\n\t\tsuper(`Learn from the master`);\r\n\t\tthis.icon = '';\r\n\t\tthis.ability = abilityBuilder();\r\n\t\tthis.id = 'learn ' + this.ability.name;\r\n\t}\r\n\r\n\tpublic start(group: Group): ITask {\r\n\t\treturn new TaskProgress('Learning ' + this.ability.name, 20);\r\n\t}\r\n\r\n\tcanLearn(player:Player) : boolean{\r\n\t\tif(this.profession != null && this.profession != player.profession){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(player.abilities.filter(a => a.name == this.ability.name).length !==0){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonQuestSuccess(group: Group) {\r\n\t\tfor (let p of group.players.filter(p => this.canLearn(p))) {\r\n\t\t\tp.addAndUseAbility(this.abilityBuilder);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/learnActivity.ts","import {\r\n\tActivity, Item, Group, Ability\r\n} from '../../world';\r\n\r\n\r\n\r\nexport abstract class Quest extends Activity {\r\n\tpublic rewards: Item[] = [];\r\n\t\t\r\n\tconstructor(name: string) {\r\n\t\tsuper(name)\r\n\t}\r\n\r\n\tonQuestSuccess(group : Group){\r\n\t\tif (this.rewards) {\r\n\t\t\tfor (const reward of this.rewards) {\r\n\t\t\t\tgroup.loot(reward);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/quest.ts","import {\r\n\tActivity, ITask, Group, ILevel, TaskProgress,Player\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class RecruitActivity extends Activity {\t\t\r\n\tconstructor(\r\n\t\tpublic player: Player\r\n\t) {\t\t\r\n\t\tsuper(`Recruit a ${player.profession}`);\t\t\t\t\r\n\t\tthis.icon = player.icon;\r\n\t\tthis.id = 'recruit ' + player.name;\r\n\t\tthis.description = `Ask ${player.name} to join your group.`;\r\n\t}\r\n\t\r\n\tpublic start(group: Group): ITask {\r\n\t\treturn new TaskProgress('Recruiting ' + this.player.name, 20);\r\n\t}\r\n\r\n\tonQuestSuccess(group : Group){\t\t\r\n\t\tgroup.world.players.push(this.player);\r\n\t\tgroup.includePlayer(this.player);\t\t\t\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/recruitActivity.ts","import {\r\n\tActivity, ITask, Group, ILevel, TaskProgress\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class TravelActivity extends Activity {\r\n\tconstructor(\r\n\t\tpublic destination: ILevel,\r\n\t\tdirection: string\r\n\t) {\r\n\t\tsuper(`Travel ${direction} to ${destination.name}`);\r\n\t\tthis.icon = destination.icon;//\r\n\t}\r\n\r\n\tpublic start(group: Group): ITask {\r\n\t\treturn new TaskProgress('Riding', 20);\r\n\t}\r\n\r\n\tonQuestSuccess(group: Group) {\r\n\t\tgroup.setLocation(this.destination);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/activity/travelActivity.ts","\r\nimport {\r\n\tCharacterStat, Character\r\n} from '../../world';\r\n\r\n\r\nexport class BuffType {\r\n\tconstructor(\r\n\t\tpublic icon: string,\r\n\t\tpublic name: string,\r\n\t\tpublic isVisible: boolean) {\r\n\t}\r\n\tpublic tag: string;\r\n}\r\n\r\nexport class Buff {\r\n\r\n\tpublic description: string;\r\n\tconstructor(\r\n\t\tpublic buffType: BuffType,\r\n\t\tprivate _onCast: (caster: Character, target: Character) => any,\r\n\t\tprivate _descriptionFunc: (tag: any) => string,\r\n\t\tpublic applyStat: (caster: Character, characterStat: CharacterStat, tag:any) => void,\r\n\t\tpublic tick: (caster: Character, target: Character, buffAgeTick: number, tag: any) => boolean\r\n\t) {\r\n\t}\r\n\r\n\tpublic onCast(caster: Character, target: Character): any {\r\n\t\tconst tag = this._onCast(caster, target);\r\n\t\tthis.description = this._descriptionFunc(tag);\r\n\t\treturn tag;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/buff/buff.ts","\r\nimport {\r\n\tCharacterStat, Character, Buff, World, Tools\r\n} from '../../world';\r\n\r\n\r\nexport class AppliedBuff {\r\n\tconstructor(\r\n\t\tpublic buff: Buff,\r\n\t\tpublic caster: Character,\r\n\t\tpublic startTick: number,\r\n\t\tpublic tag: any) {\r\n\t}\r\n}\r\n\r\nexport class BuffList {\r\n\tpublic appliedBuffs: AppliedBuff[] = [];\r\n\r\n\r\n\r\n\tpublic addBuff(tick: number, caster: Character, target: Character, buff: Buff) {\r\n\t\tconst tag = buff.onCast(caster, target);\r\n\t\tconst appliedBuff = new AppliedBuff(buff, caster, tick, tag);\r\n\t\tthis.appliedBuffs.push(appliedBuff);\r\n\t\ttarget.refreshStat();\r\n\t}\r\n\r\n\r\n\tpublic initCharaterStat(characterStat: CharacterStat) {\r\n\t\tfor (let appliedBuff of this.appliedBuffs) {\r\n\t\t\tappliedBuff.buff.applyStat(appliedBuff.caster, characterStat, appliedBuff.tag);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic tick(character: Character, tick: number) {\r\n\t\tlet changed = false;\r\n\t\tfor (let appliedBuff of this.appliedBuffs) {\r\n\t\t\tconst ok = appliedBuff.buff.tick(appliedBuff.caster, character, tick - appliedBuff.startTick, appliedBuff.tag);\r\n\t\t\tif (!ok) {\r\n\t\t\t\tTools.removeItem(this.appliedBuffs, appliedBuff);\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tcharacter.refreshStat();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.appliedBuffs.length = 0;\r\n\t}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/buff/buffList.ts","\r\nimport {\r\n Player\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\nexport class Candidate {\r\n\tcost: number;\r\n\tconstructor(public character: Player) {\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/character/candidate.ts","\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\nimport {\r\n\tLogger, Group, AbilityCondition, AbilitySelector, Ability,\r\n\tSwing, CharacterStat, EquipableItem, Bag, Tools, BuffList, Casting\r\n\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\nexport abstract class Character {\r\n\r\n\t$ = new BehaviorSubject(this);\r\n\tabilities$ = new BehaviorSubject(this);\r\n\r\n\tcharacterStat: CharacterStat = new CharacterStat();\r\n\tisDead: boolean = false;\r\n\tcurrentLife: number = 300;\r\n\tmaxLife: number = 300;\r\n\tweaponDamage = 0;\r\n\tweaponCooldown = 1;\r\n\tweaponType = 'nude';//nude, main-hand, two-hand, both-hand\r\n\tabilities: Ability[] = [];\r\n\tglobalCooldown = 5;\r\n\tlastActionTick = -100;\r\n\tbuffs = new BuffList();\r\n\tdebuffs = new BuffList();\r\n\tcasting: Casting;\r\n\tuseMana = false;\r\n\tcurrentMana = 0;\r\n\tmaxMana = 1;\r\n\tregenManaPerSecond = 0;\r\n\r\n\tgetCurrentLifePercent(): number {\r\n\t\treturn Math.round(this.currentLife * 100 / this.maxLife);\r\n\t}\r\n\r\n\tabilitySelector: AbilitySelector = new AbilitySelector();\r\n\r\n\tconstructor(public icon: string, public name: string, public type: string) {\r\n\t\tthis.addAndUseAbility(() => new Swing('', \"basic attack\"));\r\n\t}\r\n\r\n\tpublic dispatch(){\r\n\t\tthis.$.next(this);\r\n\t}\r\n\tpublic dispatchAbilities(){\r\n\t\tthis.abilities$.next(this);\r\n\t}\r\n\r\n\trefreshStat() {\r\n\t\tthis.characterStat.clear();\r\n\t\tthis.initCharaterStat();\r\n\t\tthis.buffs.initCharaterStat(this.characterStat);\r\n\t\tthis.debuffs.initCharaterStat(this.characterStat);\r\n\r\n\t\tthis.maxLife = Math.max(10, this.characterStat.stamina.getValue(this, null, null) * 10);\r\n\t\tthis.currentLife = Math.min(this.currentLife, this.maxLife);\r\n\t\tif (this.useMana) {\r\n\t\t\tthis.maxMana = Math.max(10, this.characterStat.wisdom.getValue(this, null, null) * 10);\r\n\t\t\tthis.currentMana = Math.min(this.currentMana, this.maxMana);\r\n\t\t\tthis.regenManaPerSecond = Math.max(1, this.characterStat.spirit.getValue(this, null, null) / 10);\r\n\t\t}\r\n\t\tfor(let ability of this.abilities){\r\n\t\t\tability.onCharacterChanges(this);\r\n\t\t}\r\n\t\tthis.dispatch();\r\n\t}\r\n\r\n\tprotected abstract initCharaterStat();\r\n\r\n\taddAndUseAbility(abilityBuilder: () => Ability) {\r\n\t\tconst ability = abilityBuilder();\r\n\t\tthis.abilities.push(ability);\r\n\r\n\t\tconst abilityCondition = ability.defaultAbilityCondition || new AbilityCondition();\r\n\t\tabilityCondition.ability = ability;\r\n\t\tthis.abilitySelector.abilityConditions.push(abilityCondition);\r\n\t}\r\n\r\n\r\n\r\n\tfightAction(logger: Logger, target: Character, myGroup: Character[], targets: Character[], tick: number) {\r\n\t\tif (tick - this.lastActionTick < this.globalCooldown) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.abilitySelector.choseAction(logger, this, target, myGroup, targets, tick)) {\r\n\t\t\tthis.lastActionTick = tick;\r\n\t\t}\r\n\t}\r\n\r\n\tgetCooldownPercent(ability: Ability, tick: number): number {\r\n\t\tif (this.isDead) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tconst duration = tick - ability.lastCastTick;\r\n\t\tif (ability.cooldown <= 0 || duration >= ability.cooldown) {\r\n\t\t\treturn 100;\r\n\t\t}\r\n\t\treturn Math.round(duration * 100 / ability.cooldown);\r\n\t}\r\n\r\n\tgetActiveAbilities(): Ability[] {\r\n\t\treturn Tools.distinctItems(this.abilitySelector.abilityConditions.map(s => s.ability));\r\n\t}\r\n\r\n\tgetWeaponDps() {\r\n\t\tconst ap = this.characterStat.getAttackPower(null, null, null);\r\n\t\tconst weaponDps = this.weaponDamage * 10 / this.weaponCooldown;\r\n\t\treturn Math.round(weaponDps + ap);\r\n\t}\r\n\r\n\tabstract hasShield();\r\n\r\n\tevaluateDps() {\r\n\t\treturn this.getWeaponDps() * this.getActiveAbilities().length;\r\n\t}\r\n\r\n\ttakeDamage(logger: Logger, dmg: number) {\r\n\t\tthis.currentLife -= dmg;\r\n\t\tif (!this.isDead && this.currentLife <= 0) {\r\n\t\t\tthis.currentLife = 0;\r\n\t\t\tthis.isDead = true;\r\n\t\t\tthis.buffs.clear();\r\n\t\t\tthis.debuffs.clear();\t\t\t\r\n\t\t\tconsole.log(`${this.icon} ${this.name} is dead`);\t\t\t\r\n\t\t\tthis.dispatch();\r\n\t\t}\r\n\t}\r\n\r\n\tgetArmoredLife(): number {\r\n\t\treturn this.maxLife * (10 + this.characterStat.armor.getValue(null, null, null)) / 10;\r\n\t}\r\n\r\n\tonTick(tick: number) {\r\n\t\tif (this.isDead) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.onAliveTick(tick);\r\n\t}\r\n\r\n\tonAliveTick(tick: number) {\r\n\t\tthis.buffs.tick(this, tick);\r\n\t\tthis.debuffs.tick(this, tick);\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/character/character.ts","import {\r\n\tLogger, Player, World, Item, ActivityProgress, \r\n\tMob, ILevel, Tools\r\n} from '../../world/';\r\n\r\nexport class Group {\r\n\tplayers: Player[] = [];\r\n\tactivityProgress: ActivityProgress;\r\n\tlogger = new Logger();\r\n\tfoundItems: Item[] = [];\r\n\tlocation : ILevel;\r\n\t//foundGold = 0;\r\n\t//\tfoundXp = 0;\r\n\r\n\tconstructor(\r\n\t\tpublic world: World,\r\n\t\tleader: Player\r\n\t) {\r\n\t\tthis.players.push(leader);\r\n\t\tleader.group = this;\r\n\t\tthis.location = leader.location;\r\n\t}\r\n\r\n\tincludePlayer(player: Player){\r\n\t\tif(player.group){\r\n\t\t\tplayer.group.removePlayer(player);\r\n\t\t}\r\n\t\tthis.players.push(player);\r\n\t\tplayer.group = this;\r\n\t\tplayer.location = this.location;\r\n\t}\r\n\tprivate removePlayer(player: Player){\t\t\r\n\t\tTools.removeItem(this.players, player);\t\t\r\n\t\tif(this.players.length == 0){\r\n\t\t\tTools.removeItem(this.world.groups, this);\r\n\t\t}\r\n\t}\r\n\texcludePlayer(player: Player){\t\r\n\t\tif(!player || this.players.indexOf(player) === -1){\r\n\t\t\tthrow 'invalide arg';\r\n\t\t}\r\n\t\tthis.removePlayer(player);\r\n\t\tthis.world.groups.push(new Group(this.world, player));\r\n\t}\r\n\tpromotePlayer(player: Player){\t\r\n\t\tif(!player || this.players.indexOf(player) === -1){\r\n\t\t\tthrow 'invalide arg';\r\n\t\t}\r\n\t\tthis.removePlayer(player);\r\n\t\tthis.players.unshift(player);\r\n\t}\r\n\r\n\tsetLocation(location : ILevel){\r\n\t\tthis.location = location;\r\n\t\tfor(let p of this.players){\r\n\t\t\tp.location = location;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tloot(item: Item) {\r\n\t\tthis.world.bag.add(item);\r\n\t\tthis.foundItems.push(item);\r\n\t\t//this.log(`Found ${item.name}`);\r\n\t}\r\n\t/*\txp(incr: number) {\r\n\t\t\tthis.foundXp += incr;\r\n\t\t\tfor (let p of this.players) {\r\n\t\t\t\tp.gainXp(incr);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgold(incr: number) {\r\n\t\t\tthis.foundGold += incr;\r\n\t\t\tthis.log(`Found ${incr} golds`);\r\n\t\t}*/\r\n\r\n\tlog(msg: string) {\r\n\t\tthis.logger.log(msg);\r\n\t}\r\n\r\n\tcleanLogs() {\r\n\t\tthis.foundItems = [];\r\n\t\t//\tthis.foundXp = 0;\r\n\t\t//\tthis.foundGold = 0;\r\n\t}\r\n\r\n\ttick() {\r\n\t\tfor (let player of this.players) {\r\n\t\t\tplayer.onTick(this.world.tick);\r\n\t\t}\r\n\t\tif (this.activityProgress && !this.activityProgress.done) {\r\n\t\t\tthis.activityProgress.tick();\r\n\t\t} else {\r\n\t\t\tfor (let player of this.players) {\r\n\t\t\t\tplayer.rest(this.world.tick);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetFightDifficulty(mob: Mob) {\r\n\t\tconst mobLife = mob.getArmoredLife();\r\n\t\tconst mobDps = mob.evaluateDps();\r\n\t\tconst groupDps = this.players.map(p => p.evaluateDps()).reduce((a, b) => a + b, 0);\r\n\t\tconst groupLife = this.players.map(p => p.getArmoredLife()).reduce((a, b) => Math.max(a, b), 0);\r\n\t\tif (groupDps <= 0.1) {\r\n\t\t\treturn 'heroic';\r\n\t\t}\r\n\t\tif (mobDps <= 0.1) {\r\n\t\t\treturn 'easy';\r\n\t\t}\r\n\t\tconst timeToKillMob = mobLife / groupDps;\r\n\t\tconst timeToKillPlayer = groupLife / mobDps;\r\n\t\tconsole.log(`${timeToKillMob} vs ${timeToKillPlayer}`);\r\n\t\tif (timeToKillMob < timeToKillPlayer * 0.50) {\r\n\t\t\treturn 'easy';\r\n\t\t}\r\n\t\tif (timeToKillMob < timeToKillPlayer * 0.90) {\r\n\t\t\treturn 'normal';\r\n\t\t}\r\n\t\tif (timeToKillMob < timeToKillPlayer * 1.50) {\r\n\t\t\treturn 'hard';\r\n\t\t}\r\n\t\treturn 'heroic';\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/character/group.ts","\r\nimport {\r\n\tCharacterStat, Character\t\t\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\n\r\nexport class Mob extends Character {\r\n\tpublic isMob = true;\r\n\r\n\tconstructor(icon: string, name: string, life: number, dps: number) {\r\n\t\tsuper(icon, name, 'mob');\r\n\t\t\r\n\t\tthis.weaponCooldown = 26;\r\n\t\tthis.weaponDamage = Math.round(this.weaponCooldown * dps / 20);\r\n\t\tthis.characterStat.strength.initialValue = Math.max(1, Math.round(dps / 2));\t\r\n\t\tthis.characterStat.stamina.initialValue = Math.max(1, Math.round(life/10));\t\t\r\n\t\tthis.refreshStat();\r\n\t}\r\n\r\n\t\r\n\r\n\tprotected initCharaterStat() {\t\t\t\t\r\n\t}\r\n\r\n\tpublic repop(){\r\n\t\tthis.isDead = false;\r\n\t\tfor(let ability of this.abilities){\r\n\t\t\tability.lastCastTick =  -1;\r\n\t\t}\r\n\t\tthis.refreshStat();\r\n\t\tthis.currentLife = this.maxLife;\r\n\t}\r\n\r\n\tpublic hasShield(){\r\n\t\treturn true;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/character/mob.ts","import {\r\n\tAbility, Swing, CharacterStat, Character, EquipableItem, Logger, Group,\r\n\tBag, Tools, Food, Potion, DrinkPotion, ILevel, Level1, LevelStore, AbilityStore, HighBlow\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\nexport class Player extends Character {\r\n\r\n\tpublic isPlayer = true;\r\n\tpublic group: Group;\r\n\tpublic equipedItems: EquipableItem[] = [];\r\n\tpublic location: ILevel;\r\n\r\n\r\n\tconstructor(icon: string, name: string, public profession: string) {\r\n\t\tsuper(icon, name, 'player');\r\n\t\tif (this.profession === 'fighter') {\r\n\t\t\tthis.characterStat.computeAttakPower = (strength: number, agility: number): number => {\r\n\t\t\t\treturn strength * 2;\r\n\t\t\t}\r\n\t\t\tthis.addAndUseAbility(AbilityStore.highBlow);\r\n\t\t}\r\n\t\telse if (this.profession === 'priest') {\r\n\t\t\tthis.useMana = true;\r\n\t\t\tthis.addAndUseAbility(AbilityStore.fastHeal);\r\n\t\t\tthis.addAndUseAbility(AbilityStore.strongHeal);\r\n\t\t}\r\n\t\telse if (this.profession === 'necromancer') {\r\n\t\t\tthis.useMana = true;\r\n\t\t\tthis.addAndUseAbility(AbilityStore.poisonAbility);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tthrow 'unmanaged profession';\r\n\t\t}\r\n\t\tthis.characterStat.stamina.initialValue = 7;\r\n\t\tthis.refreshStat();\r\n\t}\r\n\r\n\tprotected initCharaterStat() {\r\n\t\tfor (let item of this.equipedItems) {\r\n\t\t\titem.addBuff(this.characterStat);\r\n\t\t}\r\n\t\tconst weapons = this.equipedItems.filter(item => item.damage != 0);\r\n\t\tconst mainWeapon = weapons[0];\r\n\t\tthis.weaponDamage = (mainWeapon ? mainWeapon.damage : 3);\r\n\t\tthis.weaponCooldown = (mainWeapon ? mainWeapon.damageCooldown : 15);\r\n\t\tthis.weaponType = (mainWeapon ? mainWeapon.slot : 'hand');\r\n\t}\r\n\r\n\thasShield() {\r\n\t\treturn this.equipedItems.filter(item => item.slot === \"off hand\").length !== 0;\r\n\t}\r\n\r\n\tequip(item: EquipableItem, bag: Bag) {\r\n\t\tif (!item.isEquipable) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (let previousItem of this.equipedItems.filter(\r\n\t\t\tpreviousItem => item.useSameSlot(previousItem))) {\r\n\t\t\tif (Tools.removeItem(this.equipedItems, previousItem)) {\r\n\t\t\t\tif (bag) {\r\n\t\t\t\t\tbag.add(previousItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.equipedItems.push(item);\r\n\t\tif (bag) {\r\n\t\t\tbag.remove(item);\r\n\t\t}\r\n\t\tthis.refreshStat();\r\n\t}\r\n\r\n\tunequip(item: EquipableItem, bag: Bag) {\r\n\t\tif (Tools.removeItem(this.equipedItems, item)) {\r\n\t\t\tif (bag) {\r\n\t\t\t\tbag.add(item);\r\n\t\t\t}\r\n\t\t\tthis.refreshStat();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tpopFoodBeforeFight(logger: Logger, group: Group): Food {\r\n\t\tconst lifePercent = this.currentLife * 100 / this.maxLife;\r\n\t\tif (lifePercent < 99 && lifePercent < this.abilitySelector.eatIfLifePercentUnder) {\r\n\t\t\tconst food = group.world.bag.popFood();\r\n\t\t\treturn food;\r\n\t\t}\r\n\t\tif (this.useMana && this.maxMana > 1) {\r\n\t\t\tconst manaPercent = this.currentMana * 100 / this.maxMana;\r\n\t\t\tif (manaPercent < 99 && manaPercent < this.abilitySelector.eatIfLifePercentUnder) {\r\n\t\t\t\tconst food = group.world.bag.popFood();\r\n\t\t\t\treturn food;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tonAliveTick(tick: number) {\r\n\t\tsuper.onAliveTick(tick);\r\n\t\tif (this.useMana) {\r\n\t\t\tif (this.currentMana < this.maxMana) {\r\n\t\t\t\tconst incr = this.regenManaPerSecond / 10;\r\n\t\t\t\tthis.currentMana = Math.min(this.maxMana, this.currentMana + incr);\r\n\t\t\t\tthis.dispatch();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trest(tick: number) {\r\n\t\tif (this.isDead) {\r\n\t\t\tthis.isDead = false;\r\n\t\t\tthis.currentLife = 1;\r\n\t\t}\r\n\t\tif (this.currentLife < this.maxLife) {\r\n\t\t\tconst incr = Math.max(1, this.maxLife * 0.01);\r\n\t\t\tthis.currentLife = Math.min(this.maxLife, this.currentLife + incr);\r\n\t\t\tthis.dispatch();\r\n\t\t}\r\n\t\tif (this.useMana) {\r\n\t\t\tif (this.currentMana < this.maxMana) {\r\n\t\t\t\tconst incr = Math.max(1, this.maxMana * 0.01);\r\n\t\t\t\tthis.currentMana = Math.min(this.maxMana, this.currentMana + incr);\r\n\t\t\t\tthis.dispatch();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/character/player.ts","\r\nimport {\r\n\tCharacter, Ability\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class AttributePipe {\r\n\tprivate addPipe = [];\r\n\tprivate addPercentPipe = [];\r\n\tconstructor(\r\n\t\tpublic name: string,\r\n\t\tpublic initialValue: number,\r\n\t\tpublic minValue = 0\r\n\t) {\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.addPipe.length = 0;\r\n\t\tthis.addPercentPipe.length = 0;\r\n\t}\r\n\r\n\tadd(func: (source: Character, ability: Ability, target: Character) => number) {\r\n\t\tthis.addPipe.push(func);\r\n\t}\r\n\taddPercent(func: (source: Character, ability: Ability, target: Character) => number) {\r\n\t\tthis.addPercentPipe.push(func);\r\n\t}\r\n\r\n\tgetValue(source: Character, ability: Ability, target: Character) {\r\n\t\tlet baseValue = this.initialValue;\r\n\t\tfor (let func of this.addPipe) {\r\n\t\t\tbaseValue += func(source, ability, target);\r\n\t\t}\r\n\t\tlet multiply = 100;\r\n\t\tfor (let func of this.addPercentPipe) {\r\n\t\t\tmultiply += func(source, ability, target);\r\n\t\t}\r\n\t\treturn Math.max(this.minValue, Math.round(baseValue * multiply / 100));\r\n\t}\r\n\r\n\tget defaultValue() {\r\n\t\treturn this.getValue(null, null, null);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/characterStat/attributePipe.ts","\r\nimport {\r\n\tAttributePipe, Character, Ability\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class CharacterStat {\r\n\r\n\tstamina: AttributePipe;\r\n\tstrength: AttributePipe;\r\n\tagility: AttributePipe;\r\n\tintellect: AttributePipe;//Spell power\r\n\tspirit: AttributePipe;//Regen\r\n\twisdom: AttributePipe;//Max mana\r\n\tarmor: AttributePipe;\r\n\tdamageReduction: AttributePipe;\r\n\tcritPercent: AttributePipe;\r\n\r\n\tconstructor() {\r\n\t\tthis.stamina = new AttributePipe(\"stamina\", 3, 1);\r\n\t\tthis.strength = new AttributePipe(\"strength\", 0);\r\n\t\tthis.agility = new AttributePipe(\"agility\", 0);\r\n\t\tthis.intellect = new AttributePipe(\"intellect\", 0);\r\n\t\tthis.spirit = new AttributePipe(\"spirit\", 10);\r\n\t\tthis.wisdom = new AttributePipe(\"wisdom\", 10);\r\n\t\tthis.armor = new AttributePipe(\"armor\", 0);\r\n\t\tthis.damageReduction = new AttributePipe(\"damageReduction\", 0);\r\n\t\tthis.critPercent = new AttributePipe(\"critPercent\", 0);\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.stamina.clear();\r\n\t\tthis.strength.clear();\r\n\t\tthis.agility.clear();\r\n\t\tthis.intellect.clear();\r\n\t\tthis.spirit.clear();\r\n\t\tthis.wisdom.clear();\r\n\t\tthis.armor.clear();\r\n\t\tthis.damageReduction.clear();\r\n\t\tthis.critPercent.clear();\r\n\t}\r\n\r\n\tgetAttackPower(source: Character, ability: Ability, target: Character) {\r\n\t\tconst strength = this.strength.getValue(source, ability, target);\r\n\t\tconst agility = this.agility.getValue(source, ability, target);\r\n\t\treturn this.computeAttakPower(strength, agility);\r\n\t}\r\n\r\n\tcomputeAttakPower = (strength: number, agility: number): number => {\r\n\t\treturn strength;\r\n\t}\r\n\tarmorReduceDamage(damage: number, self: Character, ability: Ability, target: Character): number {\r\n\t\tif (damage < 1) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tconst armor = this.armor.getValue(self, ability, target);\r\n\t\tconst armorReducedDamage = Math.floor(damage * armor / (10 + armor));\r\n\t\tconst damageReduction = this.damageReduction.getValue(self, ability, target);\r\n\t\tconst endDamage = Math.max(1, Math.round(damage - armorReducedDamage - damageReduction));\r\n\t\treturn endDamage;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/characterStat/characterStat.ts","\r\n\r\n\r\n\r\n\r\n\r\nexport * from './tools/tools';\r\nexport * from './tools/logger';\r\nexport * from './tools/store';\r\nexport * from './tools/testTools';\r\nexport * from './tools/progress';\r\n\r\nexport * from './ability/ability';\r\nexport * from './ability/abilityCondition';\r\nexport * from './ability/abilitySelector';\r\nexport * from './ability/swing';\r\nexport * from './ability/drinkPotion';\r\nexport * from './ability/instantBuff';\r\nexport * from './ability/casting';\r\nexport * from './ability/castingHeal';\r\nexport * from './ability/highBlow';\r\nexport * from './ability/shieldBuff';\r\n\r\n\r\nexport * from './buff/buff';\r\nexport * from './buff/buffList';\r\n\r\nexport * from './character/character';\r\nexport * from './character/mob';\r\nexport * from './character/player';\r\nexport * from './character/candidate';\r\nexport * from './character/group';\r\n\r\nexport * from './activity/activity';\r\nexport * from './activity/quest';\r\nexport * from './activity/killQuest';\r\nexport * from './activity/activityProgress';\r\nexport * from './activity/travelActivity';\r\nexport * from './activity/learnActivity';\r\nexport * from './activity/recruitActivity';\r\n\r\n\r\nexport * from './task/iTask';\r\nexport * from './task/thread';\r\nexport * from './task/killQuestTask';\r\nexport * from './task/taskProgress';\r\nexport * from './task/fight';\r\nexport * from './task/lunchTask';\r\n\r\n\r\nexport * from './characterStat/attributePipe';\r\nexport * from './characterStat/characterStat';\r\n\r\nexport * from './item/item';\r\nexport * from './item/equipableItem';\r\nexport * from './item/attributeDescription';\r\nexport * from './item/food'; \r\nexport * from './item/potion'; \r\nexport * from './item/bag';\r\nexport * from './item/stackItem';\r\n\r\nexport * from './store/foodStore';\r\nexport * from './store/potionStore';\r\nexport * from './store/equipableStore';\r\nexport * from './store/abilityStore';\r\nexport * from './store/playerStore';\r\nexport * from './store/mobStore';\r\n\r\nexport * from './zone/levelTools';\r\nexport * from './zone/ilevel';\r\nexport * from './zone/level1';\r\nexport * from './zone/level2';\r\nexport * from './zone/level3';\r\nexport * from './zone/level4';\r\nexport * from './store/levelStore';\r\n\r\nexport * from './world';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/index.ts","import {\r\n\tItem\r\n} from '../../world';\r\n\r\n\r\nexport class AttributeDescription {\r\n\r\n\timprovementType: string;\r\n\tconstructor(\r\n\t\tpublic attribute: string,\r\n\t\tpublic value: number,\r\n\t\tpublic template: string\r\n\t) {\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/attributeDescription.ts","import {\r\n\tItem, EquipableItem, Food, StackItem,\r\n\tTools, Player, Potion\r\n} from '../../world';\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\n\r\n\r\n\r\nexport class Bag {\r\n\tpublic stacks: StackItem[] = [];\r\n\t$ :BehaviorSubject<Bag> = new BehaviorSubject(this);\r\n\r\n\tpublic dispatch(){\r\n\t\tthis.$.next(this);\r\n\t}\r\n\r\n\tadd(item: Item) {\r\n\t\tfor (let stack of this.stacks.filter(s => s.item === item)) {\r\n\t\t\tconst stackPlace = item.stackSize - stack.quantity;\r\n\t\t\tif (stack.quantity < item.stackSize) {\r\n\t\t\t\tstack.quantity++;\r\n\t\t\t\tthis.dispatch();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.stacks.unshift(new StackItem(item, 1));\r\n\t\tthis.dispatch();\r\n\t}\r\n\r\n\tremove(item: Item) {\r\n\t\tfor (let stack of this.stacks.filter(s => s.item === item)) {\r\n\t\t\tif (stack.quantity >= 2) {\r\n\t\t\t\tstack.quantity--;\r\n\t\t\t} else {\r\n\t\t\t\tTools.removeItem(this.stacks, stack);\r\n\t\t\t}\r\n\t\t\tthis.dispatch();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tgetFoods(): StackItem[] {\r\n\t\treturn this.stacks.filter(s => (<Food>s.item).isFood);\r\n\t}\r\n\r\n\tgetPotions(): StackItem[] {\r\n\t\treturn this.stacks.filter(s => (<Potion>s.item).isPotion);\r\n\t}\r\n\r\n\tgetEquipables(): Item[] {\r\n\t\treturn this.stacks.filter(s => (<EquipableItem>s.item).isEquipable).map(s => s.item);\r\n\t}\r\n\r\n\tpopFood(): Food {\r\n\t\tconst food = this.getFoods()[0];\r\n\t\tif (food) {\r\n\t\t\tthis.remove(food.item);\r\n\t\t\treturn <Food>food.item;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpopPotion(): Potion {\r\n\t\tconst stack = this.getPotions()[0];\r\n\t\tif (stack) {\r\n\t\t\tthis.remove(stack.item);\r\n\t\t\treturn <Potion>stack.item;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tequip(player: Player, item: EquipableItem) {\r\n\t\tplayer.equip(item, this);\r\n\t}\r\n\r\n\tunequip(player: Player, item: EquipableItem) {\r\n\t\tplayer.unequip(item, this);\r\n\t}\r\n\r\n\tcountItems(item: Item): number {\r\n\t\treturn this.stacks\r\n\t\t\t.filter(s => s.item === item)\r\n\t\t\t.map(s => s.quantity)\r\n\t\t\t.reduce((a, b) => a + b, 0);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/bag.ts","import {\r\n\tCharacterStat, Item, AttributeDescription\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class EquipableItem extends Item {\r\n\tisEquipable = true;\r\n\tslot: string = null;\r\n\tdamage: number = 0;\r\n\tdamageCooldown: number = 0;\r\n\tarmor: number = 0;\r\n\tstamina: number = 0;\r\n\tstrength: number = 0;\r\n\tagility: number = 0;\r\n\tintellect: number = 0;\r\n\tspirit: number = 0;\r\n\twisdom: number = 0;\r\n\t\r\n\tconstructor(name: string) {\r\n\t\tsuper(name);\r\n\t\tthis.stackSize = 1;\r\n\t}\r\n\r\n\r\n\tpublic useSameSlot(item: EquipableItem) :boolean{\r\n\t\tif(this.slot === item.slot){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(this.slot === \"main hand\" || this.slot == \"off hand\"){\r\n\t\t\tif(item.slot === \"two-hand\"){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(item.slot === \"main hand\" || item.slot == \"off hand\"){\r\n\t\t\tif(this.slot === \"two-hand\"){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic addBuff(characterStat: CharacterStat): void {\r\n\t\tif (this.armor != 0) {\r\n\t\t\tcharacterStat.armor.add(() => this.armor);\r\n\t\t}\r\n\t\tif (this.stamina != 0) {\r\n\t\t\tcharacterStat.stamina.add(() => this.stamina);\r\n\t\t}\r\n\t\tif (this.strength != 0) {\r\n\t\t\tcharacterStat.strength.add(() =>  this.strength);\r\n\t\t}\r\n\t\tif (this.agility != 0) {\r\n\t\t\tcharacterStat.agility.add(() => this.agility);\r\n\t\t}\r\n\t\tif (this.intellect != 0) {\r\n\t\t\tcharacterStat.intellect.add(() =>this.intellect);\r\n\t\t}\r\n\t\tif (this.spirit != 0) {\r\n\t\t\tcharacterStat.spirit.add( () =>  this.spirit);\r\n\t\t}\r\n\t\tif (this.wisdom != 0) {\r\n\t\t\tcharacterStat.wisdom.add(() =>  this.wisdom);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\tgetAttributeDescriptions(): AttributeDescription[] {\r\n\t\tconst attr = [];\r\n\t\tif (this.damage != 0) {\r\n\t\t\tconst dps = Math.round(this.damage * 100 / this.damageCooldown) / 10;\r\n\t\t\tconst speed = this.damageCooldown / 10;\r\n\t\t\tattr.push(new AttributeDescription(\"damage\", dps, `${this.damage} damages every ${speed} sec (${dps} dps)`));\r\n\t\t}\r\n\t\tif (this.armor != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"armor\", this.armor, \"+ {0} armor\"));\r\n\t\t}\r\n\t\tif (this.stamina != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"stamina\", this.stamina, \"+ {0} stamina\"));\r\n\t\t}\r\n\t\tif (this.strength != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"strength\", this.strength, \"+ {0} strength\"));\r\n\t\t}\r\n\t\tif (this.agility != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"agility\", this.agility, \"+ {0} agility\"));\r\n\t\t}\r\n\t\tif (this.intellect != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"intellect\", this.intellect, \"+ {0} intellect\"));\r\n\t\t}\r\n\t\tif (this.spirit != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"spirit\", this.spirit, \"+ {0} spirit\"));\r\n\t\t}\t\t\r\n\t\tif (this.wisdom != 0) {\r\n\t\t\tattr.push(new AttributeDescription(\"wisdom\", this.wisdom, \"+ {0} wisdom\"));\r\n\t\t}\r\n\t\treturn attr;\r\n\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/equipableItem.ts","import {\r\n\tCharacterStat, Item, Logger, Player, AttributeDescription\r\n} from '../../world';\r\n\r\n\r\nexport class Food extends Item {\r\n\r\n\tisFood = true;\r\n\r\n\tconstructor(\r\n\t\tname: string,\r\n\t\tpublic restoreLife: number) {\r\n\t\tsuper(name);\r\n\t\tthis.stackSize = 999;\r\n\t}\r\n\r\n\tconsume(logger: Logger, player: Player) {\r\n\t\tconst incr = Math.min(this.restoreLife, player.maxLife - player.currentLife);\r\n\t\tplayer.currentLife += incr;\r\n\t\tif (player.useMana) {\r\n\t\t\tconst mana = Math.min(this.restoreLife, player.maxMana - player.currentMana);\r\n\t\t\tplayer.currentMana += mana;\r\n\t\t}\r\n\r\n\t\tlogger.log(`${player.name} eat ${this.name} and regain ${incr} lifes`);\r\n\t}\r\n\r\n\tgetAttributeDescriptions(): AttributeDescription[] {\r\n\t\treturn [new AttributeDescription(\"food\", this.restoreLife, \"Consume to restore {0} lifes before a fight.\")];\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/food.ts","import {\r\n\tCharacterStat, AttributeDescription\r\n} from '../../world';\r\n\r\n\r\n\r\nexport abstract class Item {\r\n\tstackSize = 1;\r\n\ticon: string;\r\n\tqualityColor = \"white\";\r\n\tconstructor(public name: string) {\r\n\t}\r\n\r\n\tabstract getAttributeDescriptions() : AttributeDescription[];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/item.ts","import {\r\n\tCharacterStat, Item, Logger, Player, AttributeDescription\r\n} from '../../world';\r\n\r\n\r\nexport class Potion extends Item {\r\n\r\n\tisPotion = true;\r\n\r\n\tconstructor(\r\n\t\ticon: string,\r\n\t\tname: string,\r\n\t\tpublic restoreLife: number) {\r\n\t\tsuper(name);\r\n\t\tthis.icon = icon;\r\n\t\tthis.stackSize = 999;\r\n\t}\r\n\r\n\tgetAttributeDescriptions(): AttributeDescription[] {\r\n\t\treturn [new AttributeDescription(\"potion\", this.restoreLife, \"Consume to restore {0} lifes during a fight.\")];\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/potion.ts","import {\r\n\tItem\r\n} from '../../world';\r\n\r\n\r\nexport class StackItem {\r\n\tconstructor(\r\n\t\tpublic item: Item,\r\n\t\tpublic quantity: number) {\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/item/stackItem.ts","import {\r\n\tAbility, Buff, InstantBuff, Swing, BuffType, ShieldBuff,\r\n\tDrinkPotion, AbilityCondition, CastingHeal, HighBlow\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class AbilityStore {\r\n\r\n\r\n\tstatic drinkPotion = () => AbilityStore.createDrinkPotion();\r\n\r\n\r\n\r\n\tstatic highBlow = () => new HighBlow('', 'high blow', 50);\r\n\tstatic hotWoundAbility = () => AbilityStore.createDot('', 'hot wound', 10, 9, 1);\r\n\tstatic stoneShield = () => AbilityStore.createStoneShield('', 'stone shield');\r\n\tstatic cristalShield = () => AbilityStore.createCristalShield('', 'cristal shield');\r\n\r\n\tstatic fastHeal = () => new CastingHeal('', 'fast heal', 15, 12, 10, 30, 1);\r\n\tstatic strongHeal = () => new CastingHeal('', 'strong heal', 35, 35, 10, 100, 3);\r\n\t//\r\n\r\n\tstatic poisonAbility = () => AbilityStore.createDot('', 'poisonous', 10, 15, 3);\r\n\r\n\r\n\tprivate static createDrinkPotion() {\r\n\t\tconst d = new DrinkPotion('', \"drink potion\", 600);\r\n\t\td.defaultAbilityCondition = AbilityCondition.newMyLifeIsLess(d, 50);\r\n\t\treturn d;\r\n\t}\r\n\tprivate static createDotBuff(buffType: BuffType, damage, during) {\r\n\t\treturn new Buff(buffType,\r\n\t\t\t(source, target) => {\r\n\t\t\t\treturn { damage: damage, during: during };\r\n\t\t\t},\r\n\t\t\t(tag) => `Do ${tag.damage} damages every 3 sec during ${tag.during} sec`,\r\n\t\t\t() => { },\r\n\t\t\t(source, target, age, tag) => {\r\n\t\t\t\tif (age > 1 && age % 30 == 0) {\r\n\t\t\t\t\ttarget.takeDamage(null, tag.damage);\r\n\t\t\t\t}\r\n\t\t\t\treturn age < 10 * tag.during;\r\n\t\t\t});\r\n\t}\r\n\tprivate static createDot(icon: string, name: string, damage: number, during: number, buffStack: number) {\r\n\t\tconst buffType = new BuffType(icon, name, true);\r\n\t\tconst buff = AbilityStore.createDotBuff(buffType, damage, during);\r\n\t\tconst ability = new InstantBuff(icon, name, buff, true, buffStack, 10);\r\n\t\tability.description = `Do ${damage} damages every 3 sec during ${during} sec `;\r\n\t\treturn ability;\r\n\t}\r\n\r\n\tprivate static createStoneShield(icon: string, name: string) {\r\n\t\tconst buffType = new BuffType(icon, name, true);\r\n\t\tbuffType.tag = \"shield\";\r\n\t\tconst buff = new Buff(buffType,\r\n\t\t\t(source, target) => {\r\n\t\t\t\treturn {};\r\n\t\t\t},\r\n\t\t\t(tag) => `Double the armor during 5 sec`,\r\n\t\t\t(self, characterStat) => {\r\n\t\t\t\tcharacterStat.armor.addPercent(() => 100);\r\n\t\t\t},\r\n\t\t\t(source, target, age, tag) => {\r\n\t\t\t\treturn age < 50;\r\n\t\t\t});\r\n\t\tconst ability = new ShieldBuff(icon, name, buff, 10);\r\n\t\tability.description = `Double the armor during 5 sec. Only one type of shield ability can be active at any time.`;\r\n\t\treturn ability;\r\n\t}\r\n\r\n\tprivate static createCristalShield(icon: string, name: string) {\r\n\t\tconst buffType = new BuffType(icon, name, true);\r\n\t\tbuffType.tag = \"shield\";\r\n\t\tconst buff = new Buff(buffType,\r\n\t\t\t(source, target) => {\r\n\t\t\t\tconst armor = source.characterStat.armor.getValue(source, null, target);\r\n\t\t\t\treturn { reduction: armor };\r\n\t\t\t},\r\n\t\t\t(tag) => `Damage received is reduced by ${tag.reduction}`,\r\n\t\t\t(self, characterStat, tag) => {\r\n\t\t\t\tcharacterStat.damageReduction.add(() => tag.reduction);\r\n\t\t\t},\r\n\t\t\t(source, target, age, tag) => {\r\n\t\t\t\treturn age < 50;\r\n\t\t\t});\r\n\t\tconst ability = new ShieldBuff(icon, name, buff, 10);\r\n\t\tability.description = `Reduce the damage by the level of armor during 5 sec. Only one type of shield ability can be active at any time.`;\r\n\t\treturn ability;\r\n\t}\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/abilityStore.ts","import {\r\n\tItem, EquipableItem\r\n} from '../../world';\r\n\r\n\r\nexport class EquipableStore {\r\n\r\n//              \r\n static bronzeSword = EquipableStore.createWeapon('', 'bronze sword');\r\n static bronzeChest = EquipableStore.createArmor('', 'bronze chest');\r\n\r\n private static createWeapon(icon: string, name:string): Item{\r\n\tconst item = new EquipableItem(name);\r\n\titem.slot = \"two-hand\";\r\n\titem.stamina = 2;\r\n\titem.strength = 2;\r\n\titem.damageCooldown = 21;\r\n\titem.damage = 10;\r\n\titem.icon = icon;\r\n\titem.qualityColor = \"green\";\r\n\treturn item;\r\n}\r\n\r\n private static createArmor(icon: string, name:string): Item{\r\n\t const item = new EquipableItem(name);\r\n\t item.icon = icon;\r\n\t item.slot = \"chest\";\r\n\t item.armor = 2;\r\n\t item.stamina = 3;\r\n\t item.strength = 2;\r\n\t item.qualityColor = \"green\";\r\n\t return item;\r\n }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/equipableStore.ts","import {\r\n\tItem, Food\r\n} from '../../world';\r\n\r\n\r\nexport class FoodStore {\r\n\r\n\r\n static carrot = FoodStore.createFood('', 'carrot', 30);\r\n\r\n private static createFood(icon: string, name:string, life:number): Food{\r\n\t const item = new Food(name, life);\r\n\t item.icon = icon;\r\n\t return item;\r\n }\r\n\r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/foodStore.ts","import {\r\n\tLevel1, Level2,Level3,Level4\r\n} from '../../world';\r\n\r\n\r\nexport class LevelStore {\r\n\r\n\tstatic level1 = new Level1();\r\n\tstatic level2 = new Level2();\r\n\tstatic level3 = new Level3();\r\n\tstatic level4 = new Level4();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/levelStore.ts","import {\r\n\tCharacter, Mob, CharacterStat\r\n} from '../../world';\r\n\r\n\r\nexport class MobStore {\r\n\r\n\t\r\n/*\tstatic mouse = MobStore.createMob('', 'mouse');\r\n\tstatic hamster = MobStore.createMob('', 'hamster');\r\n\tstatic rat = MobStore.createMob('', 'rat');\r\n\tstatic rabbit = MobStore.createMob('', 'rabbit');\r\n\r\n\tprivate static createMob(icon: string, name: string): Mob {\r\n\t\tconst item = new Mob(name, 1);\r\n\t\titem.icon = icon;\r\n\t\treturn item;\r\n\t}\r\n*/\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/mobStore.ts","import {\r\n\tPlayer\r\n} from '../../world';\r\n\r\n\r\nexport class PlayerStore {\r\n\r\n\r\n\tpublic static Fighter1 = PlayerStore.createPlayer('', 'Jane the warrior', 'fighter');\r\n\tpublic static Fighter2 = PlayerStore.createPlayer('', 'Marg the fearless', 'fighter');\r\n\tpublic static Priest1 = PlayerStore.createPlayer('', 'Gana the wise', 'priest');\r\n\tpublic static Necromancer1 = PlayerStore.createPlayer('', 'Hotep the gifted', 'necromancer');\r\n\t\r\n\tprivate static createPlayer(icon: string, name: string, profession: string): Player {\r\n\t\tconst item = new Player(icon, name, profession);\r\n\t\treturn item;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/playerStore.ts","import {\r\n\tItem, Potion\r\n} from '../../world';\r\n\r\n\r\nexport class PotionStore {\r\n\r\n\r\n static smallPotion = PotionStore.createPotion('', 'small potion', 50);\r\n \r\n private static createPotion(icon: string, name:string, life:number): Potion{\r\n\t const item = new Potion(icon, name, life);\r\n\t item.icon = icon;\r\n\t return item;\r\n }\r\n\r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/store/potionStore.ts","\r\nimport {\r\n\tITask, Player, Character, Group, Mob, Food, TaskProgress\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\nexport class Fight implements ITask {\r\n\tname: string;\r\n\tplayers: Player[];\r\n\tprogress = '';\r\n\tmob: Mob;\r\n\r\n\tconstructor(\r\n\t\tprivate group: Group,\r\n\t\tmob: Mob) {\r\n\t\tthis.mob = mob;\r\n\t\tthis.mob.repop();\r\n\t\tthis.mob.lastActionTick = group.world.tick - 5;\r\n\t\tthis.players = group.players;\r\n\t\tthis.name = \"Fight \" + mob.name;\r\n\t}\r\n\r\n\tprivate *sleep(ticks: number) {\r\n\t\tfor (let i = 0; i < ticks; i++) {\r\n\t\t\tyield;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic *start() {\r\n\t\tyield this.sleep(10);\r\n\t\twhile (true) {\r\n\t\t\tif (this.mob.isDead) {\r\n\t\t\t\t//this.group.logger.log(\"Mob is dead\");\r\n\t\t\t\tthis.progress = 'win';\r\n\t\t\t\tyield this.sleep(1);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst alivePlayers = this.players.filter(p => !p.isDead);\r\n\t\t\tif (alivePlayers.length === 0) {\r\n\t\t\t\tthis.group.logger.log(\"All members of the group are deads\");\r\n\t\t\t\tthis.progress = 'lost';\r\n\t\t\t\tyield this.sleep(3);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (let player of alivePlayers) {\r\n\t\t\t\tplayer.fightAction(this.group.logger, this.mob, this.players, [this.mob], this.group.world.tick);\r\n\t\t\t}\r\n\t\t\tif (!this.mob.isDead) {\r\n\t\t\t\tthis.mob.onTick(this.group.world.tick);\r\n\t\t\t\tthis.mob.fightAction(this.group.logger, alivePlayers[0], [this.mob], this.players, this.group.world.tick);\r\n\t\t\t}\r\n\t\t\tthis.progress = 'fighting';\r\n\t\t\tyield;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/task/fight.ts","\r\n\r\nimport {\r\n\tITask, Group, KillQuest, TaskProgress, Fight, LunchTask\r\n} from '../../world';\r\n\r\n\r\n\r\n\r\nexport class KillQuestTask implements ITask {\r\n\tpublic name: string;\r\n\tpublic progress = '';\r\n\tconstructor(\r\n\t\tprivate group: Group,\r\n\t\tprivate quest: KillQuest) {\r\n\t\tthis.name = quest.name;\r\n\t\tthis.progress = `0/${this.quest.quantity}`\r\n\t}\r\n\tpublic *start() {\r\n\t\tyield new TaskProgress(\"Go to location\", 12);\r\n\t\tfor (let i = 0; i < this.quest.quantity; i++) {\r\n\t\t\tconst lunch = LunchTask.tryGetLunch(this.group);\r\n\t\t\tif (lunch) {\r\n\t\t\t\tyield lunch;\r\n\t\t\t}\r\n\r\n\t\t\tconst success = yield new Fight(this.group, this.quest.mobBuilder());\r\n\t\t\tif (!success) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.progress = `${i+1} / ${this.quest.quantity}`;\r\n\t\t}\r\n\t\tyield new TaskProgress(\"Come back town\", 12);\r\n\t\treturn true;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/task/killQuestTask.ts","import {\r\n\tITask, Group, Food, Player\r\n} from '../../world';\r\n\r\n\r\nexport class LunchTask implements ITask {\r\n\tprivate progressTick = 0;\r\n\tpublic progress = '';\r\n\tpublic name: string;\r\n\tpublic endTick: number;\r\n\tconstructor(\r\n\t\tprivate group: Group,\r\n\t\tprivate lunches: { player: Player, food: Food }[]\r\n\t) {\r\n\t\tthis.name = `Eat ${lunches[0].food.name}`;\r\n\t\tthis.endTick = 8;\r\n\t}\r\n\r\n\tpublic static tryGetLunch(group: Group) {\r\n\t\tconst lunches: { player: Player, food: Food }[] = [];\r\n\t\tfor (let player of group.players) {\r\n\t\t\tif (!player.isDead) {\r\n\t\t\t\tconst food = player.popFoodBeforeFight(group.logger, group);\r\n\t\t\t\tif (food) {\r\n\t\t\t\t\tlunches.push({ player: player, food: food });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.logger.log(`No more food`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (lunches.length == 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn new LunchTask(group, lunches);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic *start() {\r\n\t\tfor (; this.progressTick <= this.endTick; this.progressTick++) {\r\n\t\t\tthis.progress = Math.round(this.progressTick * 100 / this.endTick) + '%';\r\n\t\t\tyield;\r\n\t\t}\r\n\t\tfor (let lunch of this.lunches) {\r\n\t\t\tlunch.food.consume(this.group.logger, lunch.player);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/task/lunchTask.ts","\r\nimport {\r\n\tITask\r\n} from '../../world';\r\n\r\n\r\n\r\nexport class TaskProgress implements ITask {\r\n\tprivate progressTick = 0;\r\n\tpublic progress = '';\r\n\tconstructor(\r\n\t\tpublic name: string,\r\n\t\tpublic endTick: number,\r\n\t) {\r\n\t}\r\n\r\n\tpublic *start() {\r\n\t\tfor (; this.progressTick <= this.endTick; this.progressTick++) {\r\n\t\t\tthis.progress = Math.round(this.progressTick * 100 / this.endTick) + '%';\r\n\t\t\tyield;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/task/taskProgress.ts","import {\r\n\tITask\r\n} from '../../world';\r\n\r\nexport class Thread {\r\n\r\n\tprivate stack: IterableIterator<any>[] = [];\t\t\r\n\tpublic allTasks: ITask[] = [];\r\n\r\n\tconstructor(task: ITask | IterableIterator<any>) {\r\n\t\tthis.push(task);\r\n\t}\r\n\tprivate push(task: ITask | IterableIterator<any>) {\r\n\t\tconst asTask = <any>task;\r\n\t\tif (asTask.start) {\r\n\t\t\tthis.stack.push(asTask.start());\r\n\t\t\tif(asTask.progress != null){\r\n\t\t\t\tthis.allTasks.push(asTask);\r\n\t\t\t}\t\t\t\r\n\t\t} else if ((<any>task).next) {\r\n\t\t\tthis.stack.push(<IterableIterator<any>>task);\r\n\t\t} else {\r\n\t\t\tthrow \"invalid type: \" + typeof task;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate lastValue = null;\r\n\tpublic returnedValue = null;\r\n\tpublic tick(): boolean {\r\n\t\tif (this.stack.length == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst top = this.stack[this.stack.length - 1];\r\n\t\tconst next = top.next(this.lastValue);\r\n\t\tthis.lastValue = next.value;\t\t\r\n\t\tif (next.done) {\t\t\t\r\n\t\t\tthis.stack.pop();\r\n\t\t} else if (next.value) {\r\n\t\t\tif (next.value.next) {\r\n\t\t\t\tthis.push(next.value);\r\n\t\t\t} else if (next.value.start) {\r\n\t\t\t\tthis.push(next.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.returnedValue = this.lastValue;\r\n\t\treturn true;\r\n\t}\r\n \r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/task/thread.ts","\n\nexport class Logger {\n\n  messages: string[] = [];\n\n  log(message: string) {\n\t\tconsole.log(message);\n\t\tthis.messages.push(message);\t\t\n    if(this.messages.length > 10){\n      this.messages.splice(0, 1);\n    }\n  } \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/tools/logger.ts","import { Player, World, Activity, Group, Quest, LearnActivity } from '../../world';\r\n\r\n\r\nexport class Progress {\r\n\r\n\tprivate activities: { [id: string]: number } = {};\r\n\r\n\tpublic doneQuest(activity: Activity) {\r\n\t\tif (!activity.id) {\r\n\t\t\tconsole.dir(activity);\r\n\t\t\tthrow 'missing activity id';\r\n\t\t}\r\n\t\tif (this.activities[activity.id]) {\r\n\t\t\tthis.activities[activity.id]++;\r\n\t\t} else {\r\n\t\t\tthis.activities[activity.id] = 1;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasDoneQuest(activity: Activity) {\r\n\t\tif (!activity.id) {\r\n\t\t\tconsole.dir(activity);\r\n\t\t\tthrow 'missing activity id';\r\n\t\t}\r\n\t\treturn !!this.activities[activity.id];\r\n\t}\r\n\tpublic pushIfNotDone(activities : Activity[], activity: Activity) : boolean{\r\n\t\tif(this.hasDoneQuest(activity)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tactivities.push(activity);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic pushIfUnknown(activities : Activity[], group: Group, activity: LearnActivity) : boolean{\r\n\t\tif(group.players.filter(p => activity.canLearn(p)).length == 0){\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\t\tactivities.push(activity);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic pushFarmQuest(activities : Activity[], activity: Quest, world:World){\r\n\t\tconst reward = activity.rewards[0];\r\n\t\tif(!reward){\r\n\t\t\tthrow 'Not a farming quest';\r\n\t\t}\r\n\t\tif(world.bag.countItems(reward) < 10){\r\n\t\t\tactivities.push(activity);\r\n\t\t}\t\t\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/tools/progress.ts","import { Injectable } from '@angular/core';\r\nimport { Player, World } from '../../world';\r\n\r\n\r\n\r\n\r\n@Injectable()\r\nexport class Store {\r\n\tpublic static readonly WORLD_SAVE = \"WORLD_SAVE\";\r\n\tprivate _storage = window.localStorage;\r\n\tpublic world: World;\r\n\r\n\tconstructor() {\r\n\t\ttry {\r\n\t\t\tthis.world = JSON.parse(Store.WORLD_SAVE);\r\n\t\t} catch{ }\r\n\t}\r\n\r\n\tsave() {\r\n\t\tthis._storage.setItem(Store.WORLD_SAVE, JSON.stringify(this.world));\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis._storage.removeItem(Store.WORLD_SAVE);\r\n\t\tthis.world = null;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/tools/store.ts","import { } from 'jasmine';\r\nimport { async, ComponentFixture } from '@angular/core/testing';\r\n\r\nimport {\r\n\tPlayer, Mob, Fight, Group, World, MobStore,\r\n\tThread, ITask\r\n} from '../../world';\r\n\r\n\r\nexport class TestTools {\r\n\r\n\tstatic fastRunTest(world: World, task: ITask) {\r\n\t\tconst thread = new Thread(task);\r\n\t\tconst tickLimit = world.tick + 10000;\r\n\t\twhile (thread.tick()) {\r\n\t\t\tworld.tick++;\r\n\t\t\tif (world.tick > tickLimit) {\r\n\t\t\t\tthrow 'infinite loop thread error';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic runFight(players: Player[], mob: Mob, options:any) {\r\n\t\tfor(let player of players){\r\n\t\t\tplayer.currentLife = player.maxLife;\r\n\t\t\tplayer.currentMana = player.maxMana;\r\n\t\t}\r\n\t\tconst world = new World();\r\n\t\tconst group = new Group(world, players[0]);\t\t\r\n\t\tfor(let i = 1; i < players.length; i++){\r\n\t\t\tgroup.includePlayer(players[i]);\r\n\t\t}\r\n\t\tconst fight = new Fight(group, mob);\r\n\t\tif(options && options.initWorld){\r\n\t\t\toptions.initWorld(world, group);\r\n\t\t}\r\n\t\tTestTools.fastRunTest(world, fight);\r\n\t}\r\n\r\n\tstatic assertEasyFigth(player: Player, mob: Mob, options:any = {}) {\r\n\t\tTestTools.runFight([player], mob, options);\r\n\t\texpect(mob.isDead).toBeTruthy(`${mob.name} still has ${mob.getCurrentLifePercent()}% life`);\r\n\t\tconst playerLifePercent = player.getCurrentLifePercent();\r\n\t\texpect(playerLifePercent).toBeLessThanOrEqual(99, `${player.name} life percent`);\r\n\t\texpect(playerLifePercent).toBeGreaterThanOrEqual(50, `${player.name} life percent`);\r\n\t}\r\n\r\n\tstatic assertFairFigth(player: Player, mob: Mob, options:any = {}) {\t\t\r\n\t\tTestTools.runFight([player], mob, options);\r\n\t\texpect(mob.isDead).toBeTruthy(`${mob.name} still has ${mob.getCurrentLifePercent()}% life`);\r\n\t\tconst playerLifePercent = player.getCurrentLifePercent();\r\n\t\texpect(playerLifePercent).toBeLessThanOrEqual(75, `${player.name} life percent`);\r\n\t\texpect(playerLifePercent).toBeGreaterThanOrEqual(25, `${player.name} life percent`);\r\n\t}\r\n\r\n\tstatic assertLoseFigth(player: Player, mob: Mob, options:any = {}) {\r\n\t\tTestTools.runFight([player], mob, options);\r\n\t\texpect(player.isDead).toBeTruthy(`${player.name} still has ${player.getCurrentLifePercent()}% life`);\r\n\t\tconst mobLifePercent = mob.getCurrentLifePercent();\r\n\t\texpect(mobLifePercent).toBeGreaterThanOrEqual(5, `${mob.name} should have some life left`);\r\n\t}\r\n\r\n\tstatic assertEasyGroupFigth(players: Player[], mob: Mob, options:any = {}) {\r\n\t\tTestTools.runFight(players, mob, options);\r\n\t\texpect(mob.isDead).toBeTruthy(`${mob.name} still has ${mob.getCurrentLifePercent()}% life`);\r\n\t\texpect(!players[0].isDead).toBeTruthy(`Tank is dead`);\r\n\t\tconst priest = players.filter(p => p.profession === 'priest')[0];\r\n\t\tconst priestManaPercent = priest.currentMana * 100 / priest.maxMana;\t\t\r\n\t\texpect(priestManaPercent).toBeGreaterThanOrEqual(50, `priest mana percent`);\t\t\r\n\t}\r\n\r\n\tstatic assertFairGroupFigth(players: Player[], mob: Mob, options:any = {}) {\r\n\t\tTestTools.runFight(players, mob, options);\r\n\t\texpect(mob.isDead).toBeTruthy(`${mob.name} still has ${mob.getCurrentLifePercent()}% life`);\t\t\r\n\t\texpect(!players[0].isDead).toBeTruthy(`Tank is dead`);\r\n\t\tconst priest = players.filter(p => p.profession === 'priest')[0];\r\n\t\tconst priestManaPercent = priest.currentMana * 100 / priest.maxMana;\t\t\r\n\t\texpect(priestManaPercent).toBeLessThanOrEqual(30, `priest mana percent`);\t\t\r\n\t}\r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/tools/testTools.ts","\r\n\r\n\r\nexport class Tools {\r\n\r\n\r\n\tstatic random = function (min: number, max: number) {\r\n\t\treturn min + Math.random() * (max - min);\r\n\t}\r\n\r\n\r\n\tstatic randomPick(array: any[]) {\r\n\t\treturn array[Math.floor(Math.random() * array.length)];\r\n\t}\r\n\r\n\tstatic removeItem<T>(list: T[], item: T): boolean {\r\n\t\tconst index = list.indexOf(item);\r\n\t\tif (index != -1) {\r\n\t\t\tlist.splice(index, 1);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tstatic distinctItems<T>(list: T[]): T[] {\r\n\t\treturn list.filter((item, i, ar) => { return ar.indexOf(item) === i; });\r\n\t}\r\n\tstatic fillArray<T>(value: T, len: number): T[] {\r\n\t\tconst arr: T[] = [];\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tpublic static format(value, ...args): string {\r\n\t\ttry {\r\n\t\t\treturn value.replace(/{(\\d+(:.*)?)}/g, function (match, i) {\r\n\t\t\t\tvar s = match.split(':');\r\n\t\t\t\tif (s.length > 1) {\r\n\t\t\t\t\ti = i[0];\r\n\t\t\t\t\tmatch = s[1].replace('}', '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar arg = Tools.formatPattern(match, args[i]);\r\n\t\t\t\treturn typeof arg != 'undefined' && arg != null ? arg : \"\";\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n\tprivate static formatPattern(match, arg): string {\r\n\t\tswitch (match) {\r\n\t\t\tcase 'L':\r\n\t\t\t\targ = arg.toLowerCase();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'U':\r\n\t\t\t\targ = arg.toUpperCase();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn arg;\r\n\t}\r\n\r\n\tpublic static niceAssign(target, source) {\r\n\t\treturn Object.assign(target, source);\r\n\t}\r\n\tpublic static arrayAssign<T>(target: T[], source: T[]) {\r\n\t\ttarget.length = source.length;\r\n\t\tfor (let i = 0; i < source.length; i++) {\r\n\t\t\ttarget[i] = Tools.niceAssign(target[i] || {}, source[i]);\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/tools/tools.ts","import {\r\n\tPlayer, Group, Candidate, Item, Quest, KillQuest,\r\n\tMob, Activity, ActivityProgress, Tools, Bag, Food, Progress,\r\n\tFoodStore, EquipableStore, PlayerStore, MobStore, ITask, Thread,\r\n\tLevel1,\r\n\tPotionStore,\r\n\tAbility,\r\n\tAbilityStore,\r\n\tLevelStore,\r\n\tLevel3\r\n} from '../world/';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\n\r\n\r\nexport class World {\r\n\tpublic players: Player[] = [];\r\n\tpublic groups: Group[] = [];\r\n\tpublic candidates: Candidate[] = [];\r\n\tpublic bankItems: Item[] = [];\r\n\tpublic bag: Bag = new Bag();\r\n\tpublic tick = 0;\r\n\ttick$ = new BehaviorSubject(this.tick);\r\n\tpublic progress: Progress = new Progress();\r\n\tpublic level = new Level1();\r\n\r\n\r\n\t//private availableQuests: Activity[] = [];\r\n\r\n\tconstructor() {\t\t\r\n\t\tthis.bag.add(FoodStore.carrot);\r\n\t\tPlayerStore.Fighter1.location = LevelStore.level1;\r\n\t\tthis.players.push(PlayerStore.Fighter1);\r\n\r\n\r\n\r\n\t\t//setInterval(() => this._tick(), 5);\r\n/*\r\n\t\tPlayerStore.Fighter2.location = LevelStore.level3;\r\n\t\tthis.players.push(PlayerStore.Fighter2);\r\n\t\tPlayerStore.Fighter2.equip(Level1.needleSword, null);\r\n\t\tPlayerStore.Fighter2.equip(Level1.hamsterHelmet, null);\r\n\t\tPlayerStore.Fighter2.abilities.push(AbilityStore.stoneShield()); \r\n\t\tPlayerStore.Fighter2.abilities.push(AbilityStore.cristalShield());\r\n\t\tPlayerStore.Fighter2.abilities.push(AbilityStore.poisonAbility());\r\n\t\tPlayerStore.Fighter2.refreshStat();\r\n\t\tthis.bag.add(Level3.blowFishShield);\r\n\t\tthis.bag.add(Level3.hedgehogSword);\r\n\t\tthis.bag.add(Level1.needleSword);\r\n\r\n\t\tPlayerStore.Priest1.location = LevelStore.level2;\r\n\t\tPlayerStore.Priest1.equip(Level3.hedgehogTunic, null);\r\n\t\tthis.players.push(PlayerStore.Priest1);\r\n\r\n\t\t/*\t\t*/\r\n\r\n\t\tthis.cleanGroup();\r\n\r\n\t\t/*\r\n\t\tthis.bag.add(PotionStore.smallPotion);\r\n\t\tthis.bag.add(PotionStore.smallPotion);\r\n\t\tthis.bag.add(PotionStore.smallPotion);\r\n\t\tthis.bag.add(PotionStore.smallPotion);\r\n*/\r\n\r\n\t\t//Debug\r\n\t\t//\tPlayerStore.Warrior1.debuffs.addBuff(0, PlayerStore.Warrior1, PlayerStore.Warrior1, AbilityStore.poisonBuff);\r\n\r\n\r\n\r\n\r\n\t\t/**/\r\n\t\t//\tthis.availableQuests = this.level.getAvailableActivities(this.progress, this);\r\n\r\n\t\tsetInterval(() => this._tick(), 100);\r\n\t}\r\n\r\n\tprivate _tick() {\r\n\t\tthis.tick++;\r\n\t\tfor (let group of this.groups) {\r\n\t\t\tgroup.tick();\r\n\t\t}\r\n\t\tthis.tick$.next(this.tick);\r\n\t}\r\n\r\n\r\n\r\n\tcleanGroup() {\r\n\t\tthis.groups = [];\r\n\t\tfor (const p of this.players) {\r\n\t\t\tthis.groups.push(new Group(this, p));\r\n\t\t}\r\n\t}\r\n\r\n\tgetAvailableQuests(group: Group): Activity[] {\r\n\t\treturn group.location.getAvailableActivities(this.progress, this, group);;\r\n\t}\r\n\r\n\tpublic startActivity(group: Group, quest: Activity) {\r\n\t\t//\tthis.availableQuests = [];\r\n\t\t/*var index = this.availableQuests.indexOf(quest, 0);\r\n\t\tif (index > -1) {\r\n\t\t\tthis.availableQuests.splice(index, 1);\r\n\t\t} */\r\n\t\tgroup.activityProgress = new ActivityProgress(quest, group);\r\n\t}\r\n\r\n\t/*\tcreateRandomQuest() {\r\n\t\t\tconst adjectives = [\"Blue\", \"Red\", \"Pink\", \"Child\", \"Brown\", \"Crazed\", \"Baby\", \"Corrupted\"];\r\n\t\t\tconst pets = [\"Scorpid\", \"Stag\", \"Bat\", \"Bear\", \"Fox\", \"Turtle\", \"Toad\", \"Crab\", \"Wolf\"];\r\n\t\t\tconst numbers = [3, 5, 7, 10, 12];\r\n\t\r\n\t\t\tconst name = Tools.randomPick(adjectives) + ' ' + Tools.randomPick(pets);\r\n\t\t\tconst count = Tools.randomPick(numbers);\r\n\t\t\treturn new KillQuest(new Mob(name, 1), count);\r\n\t\r\n\t\t}*/\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/world.ts","import {\r\n\tILevel, LevelTools, World, Mob,Tools,\r\n\tItem, EquipableItem, FoodStore,\r\n\tActivity, Quest, KillQuest, Progress, TravelActivity, Store, LevelStore, Group\r\n} from '../../world';\r\n\r\nexport class Level1 implements ILevel {\r\n\r\n\r\n\tname = 'the home';\r\n\ticon = '';\r\n\r\n\t//name = 'the camp';\r\n\t//icon = '';\r\n\r\n\tstatic mouse = LevelTools.createMob('', 'mouse', 10, 2);\r\n\tstatic spoonSword = LevelTools.createWeapon('', 'spoon sword', 6, 21, {qualityColor: 'white', slot: 'two-hand' });\r\n\tstatic firstQuest = LevelTools.createKillQuest(1, Level1.mouse, 2, Level1.spoonSword);\r\n\r\n\tstatic findSomeFood = LevelTools.createKillQuest(1, Level1.mouse, 2, Tools.fillArray(FoodStore.carrot, 3), 'Find some food');\r\n\r\n\tstatic rat = LevelTools.createMob('', 'rat', 30, 3);\r\n\tstatic needleSword = LevelTools.createWeapon('', 'needle sword', 7, 21, { slot: 'two-hand', strength: 1, stamina: 1 });\t\r\n\tstatic findNeedleSword = LevelTools.createKillQuest(1, Level1.rat, 5, Level1.needleSword);\r\n\r\n\tstatic hamster = LevelTools.createMob('', 'hamster', 70, 5);\r\n\tstatic hamsterHelmet = LevelTools.createArmor('', 'hamster tunic', { slot: 'chest', armor: 2, stamina: 2 });\r\n\tstatic findHelmet = LevelTools.createKillQuest(1, Level1.hamster, 1, Level1.hamsterHelmet, \"The haunter hamster\");\r\n\r\n\tstatic boar = LevelTools.createMob('', 'boar', 120, 8);\r\n\tstatic beatBoar = LevelTools.createKillQuest(1, Level1.boar, 1, [], \"The dangerous forest\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tgetAvailableActivities(progress: Progress, world: World, group: Group): Activity[] {\r\n\t\tconst activities = [];\r\n\t\tif (progress.pushIfNotDone(activities, Level1.firstQuest)) {\r\n\t\t\treturn activities;\r\n\t\t}\r\n\t\tif (world.bag.countItems(Level1.findSomeFood.rewards[0]) < 12) {\r\n\t\t\tactivities.push(Level1.findSomeFood);\r\n\t\t}\r\n\t\tprogress.pushIfNotDone(activities, Level1.findNeedleSword);\r\n\t\tprogress.pushIfNotDone(activities, Level1.findHelmet);\r\n\t\tprogress.pushIfNotDone(activities, Level1.beatBoar);\r\n\t\tif (progress.hasDoneQuest(Level1.beatBoar)) {\r\n\t\t\tactivities.push(new TravelActivity(LevelStore.level2, 'north'));\r\n\t\t}\r\n\r\n\t\treturn activities;\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/zone/level1.ts","import {\r\n\tILevel, LevelTools, World, Mob, Tools,\r\n\tItem, EquipableItem, FoodStore, Level3,\r\n\tActivity, Quest, KillQuest, Progress,\r\n\tTravelActivity, LevelStore, Ability, AbilityStore,\r\n\tPotionStore,\r\n\tLearnActivity,\r\n\tGroup,\r\n\tRecruitActivity,\r\n\tPlayerStore\r\n} from '../../world';\r\n\r\nexport class Level2 implements ILevel {\r\n\r\n\r\n\tname = 'the town';\r\n\ticon = '';\r\n\r\n\tstatic learnToDrinkPotion = new LearnActivity(null, AbilityStore.drinkPotion);\r\n\tstatic bat = LevelTools.createMob('', 'bat', 40, 3);\r\n\tstatic farmPotion = LevelTools.createKillQuest(2, Level2.bat, 4, Tools.fillArray(PotionStore.smallPotion, 4), 'Get some potions');\r\n\r\n\tstatic rooster = LevelTools.createMob('', 'rooster', 120, 11);\r\n\tstatic roosterLeggings = LevelTools.createArmor('', 'rooster leggings', { slot: 'leg', strength: 2, stamina: 2 });\r\n\tstatic killRooster = LevelTools.createKillQuest(2, Level2.rooster, 1, Level2.roosterLeggings, \"The infected farm\");\r\n\r\n\tstatic turtle = LevelTools.createMob('', 'small turtle', 220, 8);\r\n\tstatic turtleLeggings = LevelTools.createArmor('', 'turtle leggings', { slot: 'leg', spirit: 2, stamina: 2 });\r\n\tstatic killTurtle = LevelTools.createKillQuest(2, Level2.turtle, 4, Level2.turtleLeggings, \"Wild pit\");\r\n\r\n\tstatic learnHotWound = new LearnActivity('fighter', AbilityStore.hotWoundAbility);\r\n\tstatic recruitFighter2 = new RecruitActivity(PlayerStore.Fighter2);\r\n\tstatic recruitNecromancer1 = new RecruitActivity(PlayerStore.Necromancer1);\r\n\tstatic learnPoisonAbility = new LearnActivity('necromancer', AbilityStore.poisonAbility);\r\n\t\r\n\r\n\r\n\r\n\tgetAvailableActivities(progress: Progress, world: World, group: Group): Activity[] {\r\n\t\tconst activities = [];\r\n\t\tactivities.push(new TravelActivity(LevelStore.level1, 'south'));\r\n\t\tprogress.pushIfUnknown(activities, group, Level2.learnToDrinkPotion);\r\n\t\tprogress.pushIfNotDone(activities, Level2.killRooster);\r\n\t\tprogress.pushIfNotDone(activities, Level2.killTurtle);\r\n\t\tif (progress.hasDoneQuest(Level2.killRooster) || progress.hasDoneQuest(Level2.killTurtle)) {\r\n\t\t\tprogress.pushIfUnknown(activities, group, Level2.learnHotWound);\r\n\t\t}\r\n\t\tif (progress.hasDoneQuest(Level2.learnToDrinkPotion)) {\r\n\t\t\tprogress.pushFarmQuest(activities, Level2.farmPotion, world);\r\n\t\t}\r\n\t\tif (progress.hasDoneQuest(Level2.learnHotWound)) {\r\n\t\t\tactivities.push(new TravelActivity(LevelStore.level3, 'east'));\r\n\t\t}\r\n\t\tif (progress.hasDoneQuest(Level3.recruitPriest)) {\r\n\t\t\tprogress.pushIfNotDone(activities, Level2.recruitFighter2);\r\n\t\t\tprogress.pushIfNotDone(activities, Level2.recruitNecromancer1);\r\n\t\t\tprogress.pushIfUnknown(activities, group, Level2.learnPoisonAbility);\t\t\t\r\n\t\t}\r\n\t\tif (progress.hasDoneQuest(Level2.recruitFighter2)) {\r\n\t\t\tactivities.push(new TravelActivity(LevelStore.level4, 'north'));\r\n\t\t}\r\n\t\treturn activities;\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/zone/level2.ts","import {\r\n\tILevel, LevelTools, World, Mob,\r\n\tItem, EquipableItem, FoodStore,\r\n\tActivity, Quest, KillQuest, Progress,\r\n\tTravelActivity, LevelStore, Ability, AbilityStore,\r\n\tPotionStore,\r\n\tLearnActivity,\r\n\tRecruitActivity,\r\n\tPlayerStore,\r\n\tGroup\r\n} from '../../world';\r\n\r\nexport class Level3 implements ILevel {\r\n\r\n\tname = 'the temple';\r\n\ticon = '';\r\n\tprivate static levelId = 3;\r\n\r\n\tstatic recruitPriest = new RecruitActivity(PlayerStore.Priest1);\r\n\r\n\tstatic hedgehog = LevelTools.createMob('', 'hedgehog', 300, 10);\r\n\tstatic hedgehogTunic = LevelTools.createArmor('', 'hedgehog tunic', { slot: 'chest', spirit: 2, intellect: 2 });\r\n\tstatic hedgehogSword = LevelTools.createWeapon('', 'hedgehog sword', 6, 25, { slot: 'main hand', stamina: 5 });\r\n\tstatic letsDress1 = LevelTools.createKillQuest(Level3.levelId, Level3.hedgehog, 1, [Level3.hedgehogTunic, Level3.hedgehogSword], \"Let's dress\");\r\n\r\n\tstatic blowFish = LevelTools.createMob('', 'blowFish', 200, 16);\r\n\tstatic blowFishShoe = LevelTools.createArmor('', 'blowFish shoe', { slot: 'feet', wisdom: 2, stamina: 2 });\r\n\tstatic blowFishShield = LevelTools.createArmor('', 'blowFish shield', { slot: 'off hand', armor: 3, stamina: 3 });\r\n\tstatic letsDress2 = LevelTools.createKillQuest(Level3.levelId, Level3.blowFish, 1, [Level3.blowFishShoe, Level3.blowFishShield], \"Tie the shoelaces\");\r\n\r\n\tstatic learnShield1 = new LearnActivity('fighter', AbilityStore.stoneShield);\r\n\tstatic learnShield2 = new LearnActivity('fighter', AbilityStore.cristalShield);\r\n\r\n\r\n\tgetAvailableActivities(progress: Progress, world: World, group: Group): Activity[] {\r\n\t\tconst activities = [];\r\n\t\tactivities.push(new TravelActivity(LevelStore.level2, 'west'));\r\n\t\tprogress.pushIfNotDone(activities, Level3.recruitPriest);\r\n\t\tprogress.pushIfNotDone(activities, Level3.letsDress1);\r\n\t\tprogress.pushIfNotDone(activities, Level3.letsDress2);\r\n\r\n\t\tif (progress.hasDoneQuest(Level3.letsDress1) || progress.hasDoneQuest(Level3.letsDress2)) {\r\n\t\t\tprogress.pushIfUnknown(activities, group, Level3.learnShield1);\r\n\t\t\tprogress.pushIfUnknown(activities, group, Level3.learnShield2);\r\n\t\t}\r\n\r\n\t\treturn activities;\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/zone/level3.ts","import {\r\n\tILevel, LevelTools, World, Mob,\r\n\tItem, EquipableItem, FoodStore,\r\n\tActivity, Quest, KillQuest, Progress,\r\n\tTravelActivity, LevelStore, Ability, AbilityStore,\r\n\tPotionStore,\r\n\tLearnActivity,\r\n\tRecruitActivity,\r\n\tPlayerStore,\r\n\tGroup\r\n} from '../../world';\r\n\r\nexport class Level4 implements ILevel {\r\n\r\n\tname = 'the desert';\r\n\ticon = '';\r\n\tprivate static levelId = 4;\r\n\r\n\tstatic scorpion = LevelTools.createFastMob('', 'scorpion', 10, 600, 35);\r\n\tstatic scorpionTunic = LevelTools.createArmor('', 'scorpion tunic', { slot: 'chest', qualityColor: 'blue', wisdom: 5, strength: 5, armor: 5 });\r\n\tstatic scorpionLeggings = LevelTools.createArmor('', 'scorpion leggings', { slot: 'leg', qualityColor: 'blue', intellect: 5, stamina: 5, armor: 5 });\r\n\tstatic scorpionShoe = LevelTools.createArmor('', 'scorpion shoe', { slot: 'feet', qualityColor: 'blue', wisdom: 5, spirit: 5, stamina: 5 });\r\n\tstatic scorpionSword = LevelTools.createWeapon('', 'scorpion sword', 15, 10, { slot: 'main hand', qualityColor: 'blue', intellect: 5, strength: 5, armor: 5 });\r\n\tstatic scorpionShield = LevelTools.createArmor('', 'scorpion shield', { slot: 'off hand', qualityColor: 'blue', intellect: 5, spirit: 5, stamina: 5 });\r\n\tstatic fightScorpion = LevelTools.createKillQuest(Level4.levelId, Level4.scorpion, 1, [Level4.scorpionTunic, Level4.scorpionLeggings, Level4.scorpionShoe, Level4.scorpionSword, Level4.scorpionShield], \"Desert master\");\r\n\r\n\r\n\tgetAvailableActivities(progress: Progress, world: World, group: Group): Activity[] {\r\n\t\tconst activities = [];\r\n\t\tactivities.push(new TravelActivity(LevelStore.level2, 'south'));\r\n\t\tprogress.pushIfNotDone(activities, Level4.fightScorpion);\r\n\r\n\r\n\t\treturn activities;\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/zone/level4.ts","import {\r\n\tILevel, World, Mob,\r\n\tItem, EquipableItem, FoodStore,\r\n\tActivity, Quest, KillQuest, Progress,\r\n\tTravelActivity, LevelStore, Ability, AbilityStore,\r\n\tPotionStore,\r\n\tLearnActivity\r\n} from '../../world';\r\n\r\n\r\nexport interface IArmor {\r\n\tqualityColor?: string;\r\n\tslot?: string;\r\n\tstrength?: number;\r\n\tstamina?: number;\r\n\tarmor?: number;\r\n\tspirit?: number;\r\n\tintellect?: number;\r\n\twisdom?: number;\r\n}\r\n\r\nexport class LevelTools {\r\n\r\n\r\n\tstatic createArmor(icon: string, name: string, stat: IArmor): EquipableItem {\r\n\t\tconst item = new EquipableItem(name);\r\n\t\titem.icon = icon;\r\n\t\titem.qualityColor = \"green\";\r\n\t\tObject.assign(item, stat);\r\n\t\treturn item;\r\n\t}\r\n\r\n\tstatic createWeapon(icon: string, name: string, damage: number\r\n\t\t, damageCooldown: number, stat: IArmor): EquipableItem {\r\n\t\tconst item = new EquipableItem(name);\r\n\t\titem.icon = icon;\r\n\t\titem.slot = \"two-hand\";\r\n\t\titem.qualityColor = \"green\";\r\n\t\titem.damage = damage;\r\n\t\titem.damageCooldown = damageCooldown;\r\n\t\tObject.assign(item, stat);\r\n\t\treturn item;\r\n\t}\r\n\r\n\tstatic createMob(icon: string, name: string, life: number, dps: number): () => Mob {\r\n\t\treturn () => new Mob(icon, name, life, dps);\r\n\t}\r\n\tstatic createKillQuest(levelName: number, mob: () => Mob, quantity: number, rewards: Item | Item[],\r\n\t\tquestName: string = null): KillQuest {\r\n\t\tconst quest = new KillQuest(mob, quantity);\r\n\t\tquest.id = 'level_' + levelName + '_kill_' + quantity + \"_\" + quest.mobSample.name;\r\n\t\tif (questName) {\r\n\t\t\tquest.name = questName;\r\n\t\t}\r\n\t\tif (rewards) {\r\n\t\t\tif (rewards instanceof Array) {\r\n\t\t\t\tfor (let reward of rewards) {\r\n\t\t\t\t\tquest.rewards.push(reward);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tquest.rewards.push(rewards);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn quest;\r\n\t}\r\n\r\n\r\n\tstatic createFastMob(icon: string, name: string, armor:number, life: number, dps: number): () => Mob {\r\n\t\treturn () => {\t\t\t\r\n\t\t\tconst visibleLife = Math.round(1 + (life / (10 + armor))) * 10;\r\n\t\t\tconst mob = new Mob(icon, name, visibleLife, dps);\r\n\t\t\tmob.weaponCooldown = 15;\r\n\t\t\tmob.weaponDamage = Math.round(mob.weaponCooldown * dps / 20);\r\n\t\t\tmob.characterStat.armor.initialValue = armor;\r\n\t\t\tmob.addAndUseAbility(AbilityStore.cristalShield);\r\n\t\t\tmob.refreshStat();\r\n\t\t\treturn mob;\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/world/zone/levelTools.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}